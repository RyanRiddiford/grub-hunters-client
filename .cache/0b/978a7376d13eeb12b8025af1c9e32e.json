{"id":"ovX6","dependencies":[{"name":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\package.json","includedInParent":true,"mtime":1684389396229},{"name":"../../App","loc":{"line":9,"column":16,"index":124},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\App.js"},{"name":"lit-html","loc":{"line":10,"column":28,"index":166},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\node_modules\\lit-html\\lit-html.js"},{"name":"../../services/AuthAPI","loc":{"line":11,"column":20,"index":199},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\AuthAPI.js"},{"name":"../../services/UserAPI","loc":{"line":12,"column":20,"index":246},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\UserAPI.js"},{"name":"../../utils/enum.utils","loc":{"line":13,"column":22,"index":295},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\enum.utils.js"},{"name":"../../utils/pagination.utils","loc":{"line":14,"column":28,"index":350},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\search-restaurants.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\pagination.utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t,e,n=u(require(\"../../App\")),s=require(\"lit-html\"),a=u(require(\"../../services/AuthAPI\")),r=u(require(\"../../services/UserAPI\")),i=u(require(\"../../utils/enum.utils\")),l=u(require(\"../../utils/pagination.utils\"));function u(t){return t&&t.__esModule?t:{default:t}}function c(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}class o{init(){document.title=\"Search Restaurants\",this.render(),l.default.disableButton(\".prev-page-btn, .next-page-btn\")}async searchSubmitHandler(t){this.currPage||(this.currPage=0),t.preventDefault();const e=t.detail.formData;this.keywords=e.get(\"keywords\");let n=document.querySelector(\".submit-btn\");n.setAttribute(\"loading\",\"\"),this.loadData(),n.removeAttribute(\"loading\")}async loadData(t){1!=t&&0!=t||(1==t?l.default.incrementPage():0==t&&l.default.decrementPage());const e=await r.default.getNumPages(this.keywords,i.default.accessLevels.restaurant);l.default.updatePaginationButtons(e);const n=await r.default.getPage(this.currPage,i.default.accessLevels.restaurant,this.keywords);this.renderListings(n)}async renderListings(e){const n=[];for(const a of e)n.push((0,s.html)(t||(t=c([\"<restaurant-listing restaurant=\",\"></restaurant-listing>\"])),JSON.stringify(a)));(0,s.render)(n,document.getElementById(\"restaurants-container\"))}render(){const t=(0,s.html)(e||(e=c(['\\n\\n    <app-header title=\"','\" user=\"','\"></app-header>\\n\\n    <div class=\"page-content\">\\n\\n    <div class=\"search-container\">\\n      <h1>Search Restaurants</h1>\\n\\n\\n\\n     <sl-form class=\"form-search\" @sl-submit=','>       \\n        \\n               <sl-input name=\"keywords\" type=\"text\" placeholder=\"Restaurant Name\"></sl-input>\\n            <sl-button class=\"submit-btn\" id=\"search-submit-btn\" type=\"primary\" submit>Search Restaurants</sl-button>\\n           </sl-form>      \\n    </div>\\n\\n\\n        <div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n           <div id=\"restaurants-container\">\\n           </div>\\n\\n\\n           <div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n           \\n    \\n    </div>\\n\\n    <app-footer title=',\"></app-footer>\\n    \\n    \"])),document.title,JSON.stringify(a.default.currentUser),this.searchSubmitHandler.bind(this),()=>this.loadData(!1),()=>this.loadData(!0),()=>{this.loadData(!1)},()=>this.loadData(!0),document.title);(0,s.render)(t,n.default.rootEl)}}var d=new o;exports.default=d;"},"sourceMaps":{"js":{"mappings":[{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":0}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":13}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":20}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":35}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":43}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":56}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":57}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":64}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":68}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":76}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":42},"generated":{"line":1,"column":89}},{"source":"views/pages/search-restaurants.js","original":{"line":9,"column":0},"generated":{"line":1,"column":91}},{"source":"views/pages/search-restaurants.js","name":"_templateObject","original":{"line":14,"column":59},"generated":{"line":1,"column":95}},{"source":"views/pages/search-restaurants.js","name":"_templateObject2","original":{"line":14,"column":59},"generated":{"line":1,"column":97}},{"source":"views/pages/search-restaurants.js","name":"_App","original":{"line":9,"column":0},"generated":{"line":1,"column":99}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":9,"column":0},"generated":{"line":1,"column":101}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":9,"column":0},"generated":{"line":1,"column":103}},{"source":"views/pages/search-restaurants.js","original":{"line":9,"column":0},"generated":{"line":1,"column":111}},{"source":"views/pages/search-restaurants.js","name":"_litHtml","original":{"line":10,"column":0},"generated":{"line":1,"column":125}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":10,"column":0},"generated":{"line":1,"column":127}},{"source":"views/pages/search-restaurants.js","original":{"line":10,"column":0},"generated":{"line":1,"column":135}},{"source":"views/pages/search-restaurants.js","name":"_AuthAPI","original":{"line":11,"column":0},"generated":{"line":1,"column":147}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":11,"column":0},"generated":{"line":1,"column":149}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":11,"column":0},"generated":{"line":1,"column":151}},{"source":"views/pages/search-restaurants.js","original":{"line":11,"column":0},"generated":{"line":1,"column":159}},{"source":"views/pages/search-restaurants.js","name":"_UserAPI","original":{"line":12,"column":0},"generated":{"line":1,"column":186}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":12,"column":0},"generated":{"line":1,"column":188}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":12,"column":0},"generated":{"line":1,"column":190}},{"source":"views/pages/search-restaurants.js","original":{"line":12,"column":0},"generated":{"line":1,"column":198}},{"source":"views/pages/search-restaurants.js","name":"_enum","original":{"line":13,"column":0},"generated":{"line":1,"column":225}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":13,"column":0},"generated":{"line":1,"column":227}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":13,"column":0},"generated":{"line":1,"column":229}},{"source":"views/pages/search-restaurants.js","original":{"line":13,"column":0},"generated":{"line":1,"column":237}},{"source":"views/pages/search-restaurants.js","name":"_pagination","original":{"line":14,"column":0},"generated":{"line":1,"column":264}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":14,"column":0},"generated":{"line":1,"column":266}},{"source":"views/pages/search-restaurants.js","name":"require","original":{"line":14,"column":0},"generated":{"line":1,"column":268}},{"source":"views/pages/search-restaurants.js","original":{"line":14,"column":0},"generated":{"line":1,"column":276}},{"source":"views/pages/search-restaurants.js","original":{"line":14,"column":59},"generated":{"line":1,"column":309}},{"source":"views/pages/search-restaurants.js","name":"_interopRequireDefault","original":{"line":14,"column":59},"generated":{"line":1,"column":318}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":320}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":323}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":330}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":333}},{"source":"views/pages/search-restaurants.js","name":"__esModule","original":{"line":14,"column":59},"generated":{"line":1,"column":335}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":346}},{"source":"views/pages/search-restaurants.js","name":"default","original":{"line":14,"column":59},"generated":{"line":1,"column":348}},{"source":"views/pages/search-restaurants.js","name":"default","original":{"line":14,"column":59},"generated":{"line":1,"column":349}},{"source":"views/pages/search-restaurants.js","name":"obj","original":{"line":14,"column":59},"generated":{"line":1,"column":357}},{"source":"views/pages/search-restaurants.js","original":{"line":14,"column":59},"generated":{"line":1,"column":360}},{"source":"views/pages/search-restaurants.js","name":"_taggedTemplateLiteral","original":{"line":14,"column":59},"generated":{"line":1,"column":369}},{"source":"views/pages/search-restaurants.js","name":"strings","original":{"line":14,"column":59},"generated":{"line":1,"column":371}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":373}},{"source":"views/pages/search-restaurants.js","name":"Object","original":{"line":14,"column":59},"generated":{"line":1,"column":376}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":383}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":387}},{"source":"views/pages/search-restaurants.js","name":"strings","original":{"line":14,"column":59},"generated":{"line":1,"column":389}},{"source":"views/pages/search-restaurants.js","name":"slice","original":{"line":14,"column":59},"generated":{"line":1,"column":391}},{"source":"views/pages/search-restaurants.js","name":"Object","original":{"line":14,"column":59},"generated":{"line":1,"column":397}},{"source":"views/pages/search-restaurants.js","name":"Object","original":{"line":14,"column":59},"generated":{"line":1,"column":401}},{"source":"views/pages/search-restaurants.js","name":"freeze","original":{"line":14,"column":59},"generated":{"line":1,"column":408}},{"source":"views/pages/search-restaurants.js","name":"Object","original":{"line":14,"column":59},"generated":{"line":1,"column":415}},{"source":"views/pages/search-restaurants.js","name":"defineProperties","original":{"line":14,"column":59},"generated":{"line":1,"column":422}},{"source":"views/pages/search-restaurants.js","name":"strings","original":{"line":14,"column":59},"generated":{"line":1,"column":439}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":441}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":442}},{"source":"views/pages/search-restaurants.js","name":"value","original":{"line":14,"column":59},"generated":{"line":1,"column":446}},{"source":"views/pages/search-restaurants.js","name":"value","original":{"line":14,"column":59},"generated":{"line":1,"column":447}},{"source":"views/pages/search-restaurants.js","name":"Object","original":{"line":14,"column":59},"generated":{"line":1,"column":453}},{"source":"views/pages/search-restaurants.js","name":"freeze","original":{"line":14,"column":59},"generated":{"line":1,"column":460}},{"source":"views/pages/search-restaurants.js","name":"raw","original":{"line":14,"column":59},"generated":{"line":1,"column":467}},{"source":"views/pages/search-restaurants.js","original":{"line":19,"column":0},"generated":{"line":1,"column":474}},{"source":"views/pages/search-restaurants.js","name":"SearchRestaurantsView","original":{"line":19,"column":6},"generated":{"line":1,"column":480}},{"source":"views/pages/search-restaurants.js","name":"init","original":{"line":26,"column":2},"generated":{"line":1,"column":482}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":27,"column":4},"generated":{"line":1,"column":489}},{"source":"views/pages/search-restaurants.js","name":"title","original":{"line":27,"column":13},"generated":{"line":1,"column":498}},{"source":"views/pages/search-restaurants.js","original":{"line":27,"column":21},"generated":{"line":1,"column":504}},{"source":"views/pages/search-restaurants.js","original":{"line":28,"column":4},"generated":{"line":1,"column":525}},{"source":"views/pages/search-restaurants.js","name":"render","original":{"line":28,"column":9},"generated":{"line":1,"column":530}},{"source":"views/pages/search-restaurants.js","name":"paginationUtils","original":{"line":29,"column":4},"generated":{"line":1,"column":539}},{"source":"views/pages/search-restaurants.js","original":{"line":29,"column":19},"generated":{"line":1,"column":541}},{"source":"views/pages/search-restaurants.js","name":"disableButton","original":{"line":29,"column":20},"generated":{"line":1,"column":549}},{"source":"views/pages/search-restaurants.js","original":{"line":29,"column":34},"generated":{"line":1,"column":563}},{"source":"views/pages/search-restaurants.js","original":{"line":37,"column":6},"generated":{"line":1,"column":597}},{"source":"views/pages/search-restaurants.js","name":"e","original":{"line":37,"column":32},"generated":{"line":1,"column":623}},{"source":"views/pages/search-restaurants.js","original":{"line":39,"column":13},"generated":{"line":1,"column":626}},{"source":"views/pages/search-restaurants.js","name":"currPage","original":{"line":39,"column":18},"generated":{"line":1,"column":631}},{"source":"views/pages/search-restaurants.js","original":{"line":40,"column":8},"generated":{"line":1,"column":642}},{"source":"views/pages/search-restaurants.js","name":"currPage","original":{"line":40,"column":13},"generated":{"line":1,"column":647}},{"source":"views/pages/search-restaurants.js","original":{"line":40,"column":24},"generated":{"line":1,"column":656}},{"source":"views/pages/search-restaurants.js","name":"e","original":{"line":42,"column":8},"generated":{"line":1,"column":659}},{"source":"views/pages/search-restaurants.js","name":"preventDefault","original":{"line":42,"column":10},"generated":{"line":1,"column":661}},{"source":"views/pages/search-restaurants.js","original":{"line":44,"column":8},"generated":{"line":1,"column":678}},{"source":"views/pages/search-restaurants.js","name":"formData","original":{"line":44,"column":14},"generated":{"line":1,"column":684}},{"source":"views/pages/search-restaurants.js","name":"e","original":{"line":44,"column":25},"generated":{"line":1,"column":686}},{"source":"views/pages/search-restaurants.js","name":"detail","original":{"line":44,"column":27},"generated":{"line":1,"column":688}},{"source":"views/pages/search-restaurants.js","name":"formData","original":{"line":44,"column":34},"generated":{"line":1,"column":695}},{"source":"views/pages/search-restaurants.js","original":{"line":46,"column":10},"generated":{"line":1,"column":704}},{"source":"views/pages/search-restaurants.js","name":"keywords","original":{"line":46,"column":15},"generated":{"line":1,"column":709}},{"source":"views/pages/search-restaurants.js","name":"formData","original":{"line":46,"column":26},"generated":{"line":1,"column":718}},{"source":"views/pages/search-restaurants.js","name":"get","original":{"line":46,"column":35},"generated":{"line":1,"column":720}},{"source":"views/pages/search-restaurants.js","original":{"line":46,"column":39},"generated":{"line":1,"column":724}},{"source":"views/pages/search-restaurants.js","original":{"line":47,"column":10},"generated":{"line":1,"column":736}},{"source":"views/pages/search-restaurants.js","name":"submitBtn","original":{"line":47,"column":14},"generated":{"line":1,"column":740}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":47,"column":26},"generated":{"line":1,"column":742}},{"source":"views/pages/search-restaurants.js","name":"querySelector","original":{"line":47,"column":35},"generated":{"line":1,"column":751}},{"source":"views/pages/search-restaurants.js","original":{"line":47,"column":49},"generated":{"line":1,"column":765}},{"source":"views/pages/search-restaurants.js","name":"submitBtn","original":{"line":48,"column":10},"generated":{"line":1,"column":780}},{"source":"views/pages/search-restaurants.js","name":"setAttribute","original":{"line":48,"column":20},"generated":{"line":1,"column":782}},{"source":"views/pages/search-restaurants.js","original":{"line":48,"column":33},"generated":{"line":1,"column":795}},{"source":"views/pages/search-restaurants.js","original":{"line":48,"column":44},"generated":{"line":1,"column":805}},{"source":"views/pages/search-restaurants.js","original":{"line":49,"column":10},"generated":{"line":1,"column":809}},{"source":"views/pages/search-restaurants.js","name":"loadData","original":{"line":49,"column":15},"generated":{"line":1,"column":814}},{"source":"views/pages/search-restaurants.js","name":"submitBtn","original":{"line":50,"column":12},"generated":{"line":1,"column":825}},{"source":"views/pages/search-restaurants.js","name":"removeAttribute","original":{"line":50,"column":22},"generated":{"line":1,"column":827}},{"source":"views/pages/search-restaurants.js","original":{"line":50,"column":38},"generated":{"line":1,"column":843}},{"source":"views/pages/search-restaurants.js","original":{"line":60,"column":0},"generated":{"line":1,"column":854}},{"source":"views/pages/search-restaurants.js","name":"isNextPage","original":{"line":60,"column":15},"generated":{"line":1,"column":869}},{"source":"views/pages/search-restaurants.js","original":{"line":62,"column":20},"generated":{"line":1,"column":872}},{"source":"views/pages/search-restaurants.js","name":"isNextPage","original":{"line":62,"column":6},"generated":{"line":1,"column":875}},{"source":"views/pages/search-restaurants.js","original":{"line":62,"column":42},"generated":{"line":1,"column":878}},{"source":"views/pages/search-restaurants.js","name":"isNextPage","original":{"line":62,"column":28},"generated":{"line":1,"column":881}},{"source":"views/pages/search-restaurants.js","original":{"line":64,"column":24},"generated":{"line":1,"column":885}},{"source":"views/pages/search-restaurants.js","name":"isNextPage","original":{"line":64,"column":10},"generated":{"line":1,"column":888}},{"source":"views/pages/search-restaurants.js","name":"paginationUtils","original":{"line":65,"column":8},"generated":{"line":1,"column":890}},{"source":"views/pages/search-restaurants.js","original":{"line":65,"column":23},"generated":{"line":1,"column":892}},{"source":"views/pages/search-restaurants.js","name":"incrementPage","original":{"line":65,"column":24},"generated":{"line":1,"column":900}},{"source":"views/pages/search-restaurants.js","original":{"line":68,"column":33},"generated":{"line":1,"column":916}},{"source":"views/pages/search-restaurants.js","name":"isNextPage","original":{"line":68,"column":19},"generated":{"line":1,"column":919}},{"source":"views/pages/search-restaurants.js","name":"paginationUtils","original":{"line":69,"column":13},"generated":{"line":1,"column":922}},{"source":"views/pages/search-restaurants.js","original":{"line":69,"column":28},"generated":{"line":1,"column":924}},{"source":"views/pages/search-restaurants.js","name":"decrementPage","original":{"line":69,"column":29},"generated":{"line":1,"column":932}},{"source":"views/pages/search-restaurants.js","original":{"line":73,"column":4},"generated":{"line":1,"column":949}},{"source":"views/pages/search-restaurants.js","name":"numPages","original":{"line":73,"column":10},"generated":{"line":1,"column":955}},{"source":"views/pages/search-restaurants.js","name":"UserAPI","original":{"line":73,"column":27},"generated":{"line":1,"column":963}},{"source":"views/pages/search-restaurants.js","original":{"line":73,"column":34},"generated":{"line":1,"column":965}},{"source":"views/pages/search-restaurants.js","name":"getNumPages","original":{"line":73,"column":35},"generated":{"line":1,"column":973}},{"source":"views/pages/search-restaurants.js","original":{"line":73,"column":47},"generated":{"line":1,"column":985}},{"source":"views/pages/search-restaurants.js","name":"keywords","original":{"line":73,"column":52},"generated":{"line":1,"column":990}},{"source":"views/pages/search-restaurants.js","name":"enumUtils","original":{"line":73,"column":62},"generated":{"line":1,"column":999}},{"source":"views/pages/search-restaurants.js","original":{"line":73,"column":71},"generated":{"line":1,"column":1001}},{"source":"views/pages/search-restaurants.js","name":"accessLevels","original":{"line":73,"column":72},"generated":{"line":1,"column":1009}},{"source":"views/pages/search-restaurants.js","name":"restaurant","original":{"line":73,"column":85},"generated":{"line":1,"column":1022}},{"source":"views/pages/search-restaurants.js","name":"paginationUtils","original":{"line":75,"column":2},"generated":{"line":1,"column":1034}},{"source":"views/pages/search-restaurants.js","original":{"line":75,"column":17},"generated":{"line":1,"column":1036}},{"source":"views/pages/search-restaurants.js","name":"updatePaginationButtons","original":{"line":75,"column":18},"generated":{"line":1,"column":1044}},{"source":"views/pages/search-restaurants.js","name":"numPages","original":{"line":75,"column":42},"generated":{"line":1,"column":1068}},{"source":"views/pages/search-restaurants.js","original":{"line":77,"column":6},"generated":{"line":1,"column":1071}},{"source":"views/pages/search-restaurants.js","name":"data","original":{"line":77,"column":12},"generated":{"line":1,"column":1077}},{"source":"views/pages/search-restaurants.js","name":"UserAPI","original":{"line":77,"column":25},"generated":{"line":1,"column":1085}},{"source":"views/pages/search-restaurants.js","original":{"line":77,"column":32},"generated":{"line":1,"column":1087}},{"source":"views/pages/search-restaurants.js","name":"getPage","original":{"line":77,"column":33},"generated":{"line":1,"column":1095}},{"source":"views/pages/search-restaurants.js","original":{"line":77,"column":41},"generated":{"line":1,"column":1103}},{"source":"views/pages/search-restaurants.js","name":"currPage","original":{"line":77,"column":46},"generated":{"line":1,"column":1108}},{"source":"views/pages/search-restaurants.js","name":"enumUtils","original":{"line":77,"column":56},"generated":{"line":1,"column":1117}},{"source":"views/pages/search-restaurants.js","original":{"line":77,"column":65},"generated":{"line":1,"column":1119}},{"source":"views/pages/search-restaurants.js","name":"accessLevels","original":{"line":77,"column":66},"generated":{"line":1,"column":1127}},{"source":"views/pages/search-restaurants.js","name":"restaurant","original":{"line":77,"column":79},"generated":{"line":1,"column":1140}},{"source":"views/pages/search-restaurants.js","original":{"line":77,"column":91},"generated":{"line":1,"column":1151}},{"source":"views/pages/search-restaurants.js","name":"keywords","original":{"line":77,"column":96},"generated":{"line":1,"column":1156}},{"source":"views/pages/search-restaurants.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1166}},{"source":"views/pages/search-restaurants.js","name":"renderListings","original":{"line":79,"column":5},"generated":{"line":1,"column":1171}},{"source":"views/pages/search-restaurants.js","name":"data","original":{"line":79,"column":20},"generated":{"line":1,"column":1186}},{"source":"views/pages/search-restaurants.js","original":{"line":87,"column":0},"generated":{"line":1,"column":1189}},{"source":"views/pages/search-restaurants.js","name":"data","original":{"line":87,"column":21},"generated":{"line":1,"column":1210}},{"source":"views/pages/search-restaurants.js","original":{"line":89,"column":10},"generated":{"line":1,"column":1213}},{"source":"views/pages/search-restaurants.js","name":"listingTemplates","original":{"line":89,"column":16},"generated":{"line":1,"column":1219}},{"source":"views/pages/search-restaurants.js","original":{"line":89,"column":35},"generated":{"line":1,"column":1221}},{"source":"views/pages/search-restaurants.js","original":{"line":90,"column":10},"generated":{"line":1,"column":1224}},{"source":"views/pages/search-restaurants.js","original":{"line":90,"column":15},"generated":{"line":1,"column":1228}},{"source":"views/pages/search-restaurants.js","name":"item","original":{"line":90,"column":21},"generated":{"line":1,"column":1234}},{"source":"views/pages/search-restaurants.js","name":"data","original":{"line":90,"column":29},"generated":{"line":1,"column":1239}},{"source":"views/pages/search-restaurants.js","name":"listingTemplates","original":{"line":91,"column":8},"generated":{"line":1,"column":1241}},{"source":"views/pages/search-restaurants.js","name":"push","original":{"line":91,"column":25},"generated":{"line":1,"column":1243}},{"source":"views/pages/search-restaurants.js","name":"html","original":{"line":91,"column":30},"generated":{"line":1,"column":1249}},{"source":"views/pages/search-restaurants.js","name":"html","original":{"line":91,"column":30},"generated":{"line":1,"column":1251}},{"source":"views/pages/search-restaurants.js","original":{"line":91,"column":34},"generated":{"line":1,"column":1253}},{"source":"views/pages/search-restaurants.js","name":"_templateObject","original":{"line":91,"column":34},"generated":{"line":1,"column":1259}},{"source":"views/pages/search-restaurants.js","name":"_templateObject","original":{"line":91,"column":34},"generated":{"line":1,"column":1263}},{"source":"views/pages/search-restaurants.js","name":"_taggedTemplateLiteral","original":{"line":91,"column":34},"generated":{"line":1,"column":1265}},{"source":"views/pages/search-restaurants.js","name":"JSON","original":{"line":91,"column":68},"generated":{"line":1,"column":1267}},{"source":"views/pages/search-restaurants.js","name":"JSON","original":{"line":91,"column":68},"generated":{"line":1,"column":1268}},{"source":"views/pages/search-restaurants.js","name":"JSON","original":{"line":91,"column":68},"generated":{"line":1,"column":1302}},{"source":"views/pages/search-restaurants.js","name":"JSON","original":{"line":91,"column":68},"generated":{"line":1,"column":1330}},{"source":"views/pages/search-restaurants.js","name":"stringify","original":{"line":91,"column":73},"generated":{"line":1,"column":1335}},{"source":"views/pages/search-restaurants.js","name":"item","original":{"line":91,"column":83},"generated":{"line":1,"column":1345}},{"source":"views/pages/search-restaurants.js","original":{"line":95,"column":2},"generated":{"line":1,"column":1351}},{"source":"views/pages/search-restaurants.js","name":"render","original":{"line":95,"column":2},"generated":{"line":1,"column":1353}},{"source":"views/pages/search-restaurants.js","original":{"line":95,"column":8},"generated":{"line":1,"column":1355}},{"source":"views/pages/search-restaurants.js","name":"listingTemplates","original":{"line":95,"column":9},"generated":{"line":1,"column":1363}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":95,"column":27},"generated":{"line":1,"column":1365}},{"source":"views/pages/search-restaurants.js","name":"getElementById","original":{"line":95,"column":36},"generated":{"line":1,"column":1374}},{"source":"views/pages/search-restaurants.js","original":{"line":95,"column":51},"generated":{"line":1,"column":1389}},{"source":"views/pages/search-restaurants.js","name":"render","original":{"line":102,"column":2},"generated":{"line":1,"column":1415}},{"source":"views/pages/search-restaurants.js","original":{"line":104,"column":4},"generated":{"line":1,"column":1424}},{"source":"views/pages/search-restaurants.js","name":"template","original":{"line":104,"column":10},"generated":{"line":1,"column":1430}},{"source":"views/pages/search-restaurants.js","name":"html","original":{"line":104,"column":21},"generated":{"line":1,"column":1433}},{"source":"views/pages/search-restaurants.js","name":"html","original":{"line":104,"column":21},"generated":{"line":1,"column":1435}},{"source":"views/pages/search-restaurants.js","original":{"line":104,"column":25},"generated":{"line":1,"column":1437}},{"source":"views/pages/search-restaurants.js","name":"_templateObject2","original":{"line":104,"column":25},"generated":{"line":1,"column":1443}},{"source":"views/pages/search-restaurants.js","name":"_templateObject2","original":{"line":104,"column":25},"generated":{"line":1,"column":1447}},{"source":"views/pages/search-restaurants.js","name":"_taggedTemplateLiteral","original":{"line":104,"column":25},"generated":{"line":1,"column":1449}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":1451}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":1452}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":1482}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":1493}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":1671}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2036}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2123}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2325}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2412}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2516}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":106,"column":25},"generated":{"line":1,"column":2548}},{"source":"views/pages/search-restaurants.js","name":"title","original":{"line":106,"column":34},"generated":{"line":1,"column":2557}},{"source":"views/pages/search-restaurants.js","name":"JSON","original":{"line":106,"column":50},"generated":{"line":1,"column":2563}},{"source":"views/pages/search-restaurants.js","name":"stringify","original":{"line":106,"column":55},"generated":{"line":1,"column":2568}},{"source":"views/pages/search-restaurants.js","name":"AuthAPI","original":{"line":106,"column":65},"generated":{"line":1,"column":2578}},{"source":"views/pages/search-restaurants.js","original":{"line":106,"column":72},"generated":{"line":1,"column":2580}},{"source":"views/pages/search-restaurants.js","name":"currentUser","original":{"line":106,"column":73},"generated":{"line":1,"column":2588}},{"source":"views/pages/search-restaurants.js","original":{"line":115,"column":47},"generated":{"line":1,"column":2601}},{"source":"views/pages/search-restaurants.js","name":"searchSubmitHandler","original":{"line":115,"column":52},"generated":{"line":1,"column":2606}},{"source":"views/pages/search-restaurants.js","name":"bind","original":{"line":115,"column":72},"generated":{"line":1,"column":2626}},{"source":"views/pages/search-restaurants.js","original":{"line":115,"column":77},"generated":{"line":1,"column":2631}},{"source":"views/pages/search-restaurants.js","original":{"line":124,"column":50},"generated":{"line":1,"column":2637}},{"source":"views/pages/search-restaurants.js","original":{"line":124,"column":55},"generated":{"line":1,"column":2641}},{"source":"views/pages/search-restaurants.js","name":"loadData","original":{"line":124,"column":60},"generated":{"line":1,"column":2646}},{"source":"views/pages/search-restaurants.js","original":{"line":124,"column":69},"generated":{"line":1,"column":2656}},{"source":"views/pages/search-restaurants.js","original":{"line":125,"column":50},"generated":{"line":1,"column":2659}},{"source":"views/pages/search-restaurants.js","original":{"line":125,"column":55},"generated":{"line":1,"column":2663}},{"source":"views/pages/search-restaurants.js","name":"loadData","original":{"line":125,"column":60},"generated":{"line":1,"column":2668}},{"source":"views/pages/search-restaurants.js","original":{"line":125,"column":69},"generated":{"line":1,"column":2678}},{"source":"views/pages/search-restaurants.js","original":{"line":132,"column":50},"generated":{"line":1,"column":2681}},{"source":"views/pages/search-restaurants.js","original":{"line":132,"column":56},"generated":{"line":1,"column":2686}},{"source":"views/pages/search-restaurants.js","name":"loadData","original":{"line":132,"column":61},"generated":{"line":1,"column":2691}},{"source":"views/pages/search-restaurants.js","original":{"line":132,"column":70},"generated":{"line":1,"column":2701}},{"source":"views/pages/search-restaurants.js","original":{"line":133,"column":50},"generated":{"line":1,"column":2705}},{"source":"views/pages/search-restaurants.js","original":{"line":133,"column":55},"generated":{"line":1,"column":2709}},{"source":"views/pages/search-restaurants.js","name":"loadData","original":{"line":133,"column":60},"generated":{"line":1,"column":2714}},{"source":"views/pages/search-restaurants.js","original":{"line":133,"column":69},"generated":{"line":1,"column":2724}},{"source":"views/pages/search-restaurants.js","name":"document","original":{"line":139,"column":24},"generated":{"line":1,"column":2727}},{"source":"views/pages/search-restaurants.js","name":"title","original":{"line":139,"column":33},"generated":{"line":1,"column":2736}},{"source":"views/pages/search-restaurants.js","original":{"line":144,"column":0},"generated":{"line":1,"column":2744}},{"source":"views/pages/search-restaurants.js","name":"render","original":{"line":144,"column":0},"generated":{"line":1,"column":2746}},{"source":"views/pages/search-restaurants.js","original":{"line":144,"column":6},"generated":{"line":1,"column":2748}},{"source":"views/pages/search-restaurants.js","name":"template","original":{"line":144,"column":7},"generated":{"line":1,"column":2756}},{"source":"views/pages/search-restaurants.js","name":"App","original":{"line":144,"column":17},"generated":{"line":1,"column":2758}},{"source":"views/pages/search-restaurants.js","original":{"line":144,"column":20},"generated":{"line":1,"column":2760}},{"source":"views/pages/search-restaurants.js","name":"rootEl","original":{"line":144,"column":21},"generated":{"line":1,"column":2768}},{"source":"views/pages/search-restaurants.js","original":{"line":153,"column":0},"generated":{"line":1,"column":2777}},{"source":"views/pages/search-restaurants.js","name":"_default","original":{"line":153,"column":0},"generated":{"line":1,"column":2781}},{"source":"views/pages/search-restaurants.js","original":{"line":154,"column":15},"generated":{"line":1,"column":2783}},{"source":"views/pages/search-restaurants.js","name":"SearchRestaurantsView","original":{"line":154,"column":19},"generated":{"line":1,"column":2787}},{"source":"views/pages/search-restaurants.js","name":"exports","original":{"line":154,"column":42},"generated":{"line":1,"column":2789}},{"source":"views/pages/search-restaurants.js","name":"default","original":{"line":154,"column":42},"generated":{"line":1,"column":2797}},{"source":"views/pages/search-restaurants.js","name":"_default","original":{"line":154,"column":42},"generated":{"line":1,"column":2805}}],"sources":{"views/pages/search-restaurants.js":"/**\r\n * Search restaurants view\r\n * \r\n * Author: Ryan Riddiford\r\n * Student ID: 20862086\r\n */\r\n\r\n//Imports\r\nimport App from '../../App';\r\nimport {html, render } from 'lit-html';\r\nimport AuthAPI from '../../services/AuthAPI';\r\nimport UserAPI from '../../services/UserAPI';\r\nimport enumUtils from '../../utils/enum.utils';\r\nimport paginationUtils from '../../utils/pagination.utils';\r\n\r\n\r\n\r\n//Search restaurants view\r\nclass SearchRestaurantsView {\r\n\r\n\r\n\r\n  /**\r\n   * Initialise the view\r\n   */\r\n  init(){\r\n    document.title = 'Search Restaurants';    \r\n    this.render();   \r\n    paginationUtils.disableButton('.prev-page-btn, .next-page-btn');\r\n  }\r\n\r\n\r\n   /**\r\n   * Send form data for searching data\r\n   * @param {*} e The event object\r\n   */\r\n      async searchSubmitHandler(e){\r\n\r\n        if (!this.currPage)\r\n        this.currPage = 0; \r\n\r\n        e.preventDefault();\r\n\r\n        const formData = e.detail.formData;\r\n\r\n          this.keywords = formData.get(\"keywords\");\r\n          let submitBtn = document.querySelector('.submit-btn');\r\n          submitBtn.setAttribute('loading', '');\r\n          this.loadData();\r\n            submitBtn.removeAttribute('loading');\r\n        \r\n      }\r\n\r\n\r\n\r\n      /**\r\n * Load a page of data\r\n * @param {*} isNextPage \r\n */\r\nasync loadData(isNextPage) {\r\n  //If loading a subsequent page\r\n  if (isNextPage == true || isNextPage == false) {\r\n      //Increment for next page\r\n      if (isNextPage == true) {   \r\n        paginationUtils.incrementPage();\r\n          }\r\n          //Decrement for previous page\r\n          else if (isNextPage == false) {  \r\n             paginationUtils.decrementPage();\r\n          }\r\n  }\r\n    //Find number of pages\r\n    const numPages = await UserAPI.getNumPages(this.keywords, enumUtils.accessLevels.restaurant);\r\n  //Disable/enable pagination buttons\r\n  paginationUtils.updatePaginationButtons(numPages);\r\n      //Get page of data\r\n      const data = await UserAPI.getPage(this.currPage, enumUtils.accessLevels.restaurant, this.keywords);\r\n      //Render data listing array to container element\r\nthis.renderListings(data);\r\n}\r\n\r\n\r\n/**\r\n * Render the data listings to container element\r\n * @param {*} data array of data to render listings with\r\n */\r\nasync renderListings(data) {\r\n        //Build template array of restaurant listings\r\n          const listingTemplates = [];\r\n          for (const item of data) {\r\n        listingTemplates.push(html`<restaurant-listing restaurant=${JSON.stringify(item)}></restaurant-listing>`);\r\n          }\r\n\r\n        //Render review listing template array to restaurants container\r\n  render(listingTemplates, document.getElementById(\"restaurants-container\"));\r\n}\r\n\r\n\r\n      /**\r\n       * Render the view\r\n       */\r\n  render() {\r\n\r\n    const template = html`\r\n\r\n    <app-header title=\"${document.title}\" user=\"${JSON.stringify(AuthAPI.currentUser)}\"></app-header>\r\n\r\n    <div class=\"page-content\">\r\n\r\n    <div class=\"search-container\">\r\n      <h1>Search Restaurants</h1>\r\n\r\n\r\n\r\n     <sl-form class=\"form-search\" @sl-submit=${this.searchSubmitHandler.bind(this)}>       \r\n        \r\n               <sl-input name=\"keywords\" type=\"text\" placeholder=\"Restaurant Name\"></sl-input>\r\n            <sl-button class=\"submit-btn\" id=\"search-submit-btn\" type=\"primary\" submit>Search Restaurants</sl-button>\r\n           </sl-form>      \r\n    </div>\r\n\r\n\r\n        <div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> this.loadData(false)} class=\"prev\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n           <div id=\"restaurants-container\">\r\n           </div>\r\n\r\n\r\n           <div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> {this.loadData(false)}} class=\"prev\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n           \r\n    \r\n    </div>\r\n\r\n    <app-footer title=${document.title}></app-footer>\r\n    \r\n    `;\r\n\r\n\r\nrender(template, App.rootEl);\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n\r\n//Export the view\r\nexport default new SearchRestaurantsView();"},"lineCount":null}},"error":null,"hash":"541a2c19dc499723f91c9fd3981207b7","cacheData":{"env":{}}}