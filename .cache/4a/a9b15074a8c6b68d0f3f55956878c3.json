{"id":"CzHF","dependencies":[{"name":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\package.json","includedInParent":true,"mtime":1682146841689},{"name":"./App","loc":{"line":1,"column":16,"index":16},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\Auth.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\App.js"},{"name":"./Router","loc":{"line":2,"column":34,"index":59},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\Auth.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\Router.js"},{"name":"./views/partials/splash.partial","loc":{"line":3,"column":19,"index":90},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\Auth.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\partials\\splash.partial.js"},{"name":"lit-html","loc":{"line":4,"column":28,"index":153},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\Auth.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\node_modules\\lit-html\\lit-html.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=r(require(\"./App\")),t=a(require(\"./Router\")),o=r(require(\"./views/partials/splash.partial\")),n=require(\"lit-html\");function s(e){if(\"function\"!=typeof WeakMap)return null;var t=new WeakMap,o=new WeakMap;return(s=function(e){return e?o:t})(e)}function a(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!=typeof e&&\"function\"!=typeof e)return{default:e};var o=s(t);if(o&&o.has(e))return o.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(\"default\"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var i=a?Object.getOwnPropertyDescriptor(e,r):null;i&&(i.get||i.set)?Object.defineProperty(n,r,i):n[r]=e[r]}return n.default=e,o&&o.set(e,n),n}function r(e){return e&&e.__esModule?e:{default:e}}class i{constructor(){this.currentUser={}}async signUp(o){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await fetch(\"\".concat(e.default.apiBase,\"/user\"),{method:\"POST\",body:o});if(!s.ok){const e=await s.json();e&&console.log(e),Toast.show(\"Problem getting user: \".concat(s.status)),\"function\"==typeof n&&n()}Toast.show(\"Account created, please sign in\"),(0,t.gotoRoute)(\"/signin\")}async signIn(o){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const s=await fetch(\"\".concat(e.default.apiBase,\"/auth/signin\"),{method:\"POST\",body:o});if(!s.ok){const e=await s.json();e&&console.log(e),Toast.show(\"Problem signing in: \".concat(e.message),\"error\"),\"function\"==typeof n&&n()}const a=await s.json();Toast.show(\"Welcome  \".concat(a.user.firstName)),localStorage.setItem(\"accessToken\",a.accessToken),this.currentUser=a.user,t.default.init(),(0,t.gotoRoute)(\"/\")}async check(s){if((0,n.render)(o.default,e.default.rootEl),!localStorage.accessToken)return Toast.show(\"Please sign in\"),void(0,t.gotoRoute)(\"/signin\");const a=await fetch(\"\".concat(e.default.apiBase,\"/auth/validate\"),{method:\"GET\",headers:{Authorization:\"Bearer \".concat(localStorage.accessToken)}});if(!a.ok){const e=await a.json();return e&&console.log(e),localStorage.removeItem(\"accessToken\"),Toast.show(\"session expired, please sign in\"),void(0,t.gotoRoute)(\"/signin\")}const r=await a.json();this.currentUser=r.user,s()}signOut(){Toast.show(\"You are signed out\"),localStorage.removeItem(\"accessToken\"),(0,t.gotoRoute)(\"/signin\"),this.currentUser=null}}var c=new i;exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":0}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":13}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":20}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":35}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":43}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":56}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":57}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":64}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":68}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":76}},{"source":"Auth.js","original":{"line":121,"column":25},"generated":{"line":1,"column":89}},{"source":"Auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"Auth.js","name":"_App","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"Auth.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"Auth.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"Auth.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"Auth.js","name":"_Router","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"Auth.js","name":"_interopRequireWildcard","original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"Auth.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"Auth.js","original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"Auth.js","name":"_splash","original":{"line":3,"column":0},"generated":{"line":1,"column":142}},{"source":"Auth.js","name":"_interopRequireDefault","original":{"line":3,"column":0},"generated":{"line":1,"column":144}},{"source":"Auth.js","name":"require","original":{"line":3,"column":0},"generated":{"line":1,"column":146}},{"source":"Auth.js","original":{"line":3,"column":0},"generated":{"line":1,"column":154}},{"source":"Auth.js","name":"_litHtml","original":{"line":4,"column":0},"generated":{"line":1,"column":190}},{"source":"Auth.js","name":"require","original":{"line":4,"column":0},"generated":{"line":1,"column":192}},{"source":"Auth.js","original":{"line":4,"column":0},"generated":{"line":1,"column":200}},{"source":"Auth.js","original":{"line":4,"column":38},"generated":{"line":1,"column":212}},{"source":"Auth.js","name":"_getRequireWildcardCache","original":{"line":4,"column":38},"generated":{"line":1,"column":221}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":223}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":226}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":229}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":248}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":256}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":263}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":268}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":272}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":274}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":278}},{"source":"Auth.js","name":"cacheNodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":286}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":288}},{"source":"Auth.js","name":"WeakMap","original":{"line":4,"column":38},"generated":{"line":1,"column":292}},{"source":"Auth.js","name":"_getRequireWildcardCache","original":{"line":4,"column":38},"generated":{"line":1,"column":300}},{"source":"Auth.js","name":"_getRequireWildcardCache","original":{"line":4,"column":38},"generated":{"line":1,"column":307}},{"source":"Auth.js","name":"_getRequireWildcardCache","original":{"line":4,"column":38},"generated":{"line":1,"column":309}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":318}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":321}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":328}},{"source":"Auth.js","name":"cacheNodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":330}},{"source":"Auth.js","name":"cacheBabelInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":332}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":336}},{"source":"Auth.js","original":{"line":4,"column":38},"generated":{"line":1,"column":339}},{"source":"Auth.js","name":"_interopRequireWildcard","original":{"line":4,"column":38},"generated":{"line":1,"column":348}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":350}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":352}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":355}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":359}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":362}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":365}},{"source":"Auth.js","name":"__esModule","original":{"line":4,"column":38},"generated":{"line":1,"column":367}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":378}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":385}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":387}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":390}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":397}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":400}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":417}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":420}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":439}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":441}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":447}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":448}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":456}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":459}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":463}},{"source":"Auth.js","name":"_getRequireWildcardCache","original":{"line":4,"column":38},"generated":{"line":1,"column":465}},{"source":"Auth.js","name":"nodeInterop","original":{"line":4,"column":38},"generated":{"line":1,"column":467}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":470}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":473}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":476}},{"source":"Auth.js","name":"has","original":{"line":4,"column":38},"generated":{"line":1,"column":478}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":482}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":485}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":492}},{"source":"Auth.js","name":"get","original":{"line":4,"column":38},"generated":{"line":1,"column":494}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":498}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":501}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":505}},{"source":"Auth.js","name":"hasPropertyDescriptor","original":{"line":4,"column":38},"generated":{"line":1,"column":507}},{"source":"Auth.js","name":"hasPropertyDescriptor","original":{"line":4,"column":38},"generated":{"line":1,"column":510}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":512}},{"source":"Auth.js","name":"defineProperty","original":{"line":4,"column":38},"generated":{"line":1,"column":519}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":535}},{"source":"Auth.js","name":"getOwnPropertyDescriptor","original":{"line":4,"column":38},"generated":{"line":1,"column":542}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":567}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":571}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":575}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":580}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":582}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":585}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":597}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":600}},{"source":"Auth.js","name":"prototype","original":{"line":4,"column":38},"generated":{"line":1,"column":607}},{"source":"Auth.js","name":"hasOwnProperty","original":{"line":4,"column":38},"generated":{"line":1,"column":617}},{"source":"Auth.js","name":"call","original":{"line":4,"column":38},"generated":{"line":1,"column":632}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":637}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":639}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":642}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":643}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":647}},{"source":"Auth.js","name":"hasPropertyDescriptor","original":{"line":4,"column":38},"generated":{"line":1,"column":649}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":651}},{"source":"Auth.js","name":"getOwnPropertyDescriptor","original":{"line":4,"column":38},"generated":{"line":1,"column":658}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":683}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":685}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":688}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":693}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":697}},{"source":"Auth.js","name":"get","original":{"line":4,"column":38},"generated":{"line":1,"column":699}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":704}},{"source":"Auth.js","name":"set","original":{"line":4,"column":38},"generated":{"line":1,"column":706}},{"source":"Auth.js","name":"Object","original":{"line":4,"column":38},"generated":{"line":1,"column":711}},{"source":"Auth.js","name":"defineProperty","original":{"line":4,"column":38},"generated":{"line":1,"column":718}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":733}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":735}},{"source":"Auth.js","name":"desc","original":{"line":4,"column":38},"generated":{"line":1,"column":737}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":740}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":742}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":745}},{"source":"Auth.js","name":"key","original":{"line":4,"column":38},"generated":{"line":1,"column":747}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":750}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":757}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":759}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":767}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":769}},{"source":"Auth.js","name":"cache","original":{"line":4,"column":38},"generated":{"line":1,"column":772}},{"source":"Auth.js","name":"set","original":{"line":4,"column":38},"generated":{"line":1,"column":774}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":778}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":780}},{"source":"Auth.js","name":"newObj","original":{"line":4,"column":38},"generated":{"line":1,"column":783}},{"source":"Auth.js","original":{"line":4,"column":38},"generated":{"line":1,"column":785}},{"source":"Auth.js","name":"_interopRequireDefault","original":{"line":4,"column":38},"generated":{"line":1,"column":794}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":796}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":799}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":806}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":809}},{"source":"Auth.js","name":"__esModule","original":{"line":4,"column":38},"generated":{"line":1,"column":811}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":822}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":824}},{"source":"Auth.js","name":"default","original":{"line":4,"column":38},"generated":{"line":1,"column":825}},{"source":"Auth.js","name":"obj","original":{"line":4,"column":38},"generated":{"line":1,"column":833}},{"source":"Auth.js","original":{"line":7,"column":0},"generated":{"line":1,"column":836}},{"source":"Auth.js","name":"Auth","original":{"line":7,"column":6},"generated":{"line":1,"column":842}},{"source":"Auth.js","name":"constructor","original":{"line":9,"column":2},"generated":{"line":1,"column":844}},{"source":"Auth.js","original":{"line":10,"column":4},"generated":{"line":1,"column":858}},{"source":"Auth.js","name":"currentUser","original":{"line":10,"column":9},"generated":{"line":1,"column":863}},{"source":"Auth.js","original":{"line":10,"column":23},"generated":{"line":1,"column":875}},{"source":"Auth.js","original":{"line":13,"column":2},"generated":{"line":1,"column":878}},{"source":"Auth.js","name":"userData","original":{"line":13,"column":15},"generated":{"line":1,"column":891}},{"source":"Auth.js","original":{"line":13,"column":38},"generated":{"line":1,"column":894}},{"source":"Auth.js","name":"fail","original":{"line":13,"column":25},"generated":{"line":1,"column":898}},{"source":"Auth.js","name":"arguments","original":{"line":13,"column":29},"generated":{"line":1,"column":900}},{"source":"Auth.js","name":"length","original":{"line":13,"column":29},"generated":{"line":1,"column":910}},{"source":"Auth.js","name":"arguments","original":{"line":13,"column":29},"generated":{"line":1,"column":917}},{"source":"Auth.js","name":"undefined","original":{"line":13,"column":29},"generated":{"line":1,"column":925}},{"source":"Auth.js","name":"arguments","original":{"line":13,"column":29},"generated":{"line":1,"column":929}},{"source":"Auth.js","name":"undefined","original":{"line":13,"column":29},"generated":{"line":1,"column":939}},{"source":"Auth.js","name":"arguments","original":{"line":13,"column":29},"generated":{"line":1,"column":943}},{"source":"Auth.js","original":{"line":13,"column":32},"generated":{"line":1,"column":953}},{"source":"Auth.js","original":{"line":14,"column":4},"generated":{"line":1,"column":956}},{"source":"Auth.js","name":"response","original":{"line":14,"column":10},"generated":{"line":1,"column":962}},{"source":"Auth.js","name":"fetch","original":{"line":14,"column":27},"generated":{"line":1,"column":970}},{"source":"Auth.js","name":"concat","original":{"line":14,"column":32},"generated":{"line":1,"column":976}},{"source":"Auth.js","name":"concat","original":{"line":14,"column":32},"generated":{"line":1,"column":979}},{"source":"Auth.js","name":"App","original":{"line":14,"column":36},"generated":{"line":1,"column":986}},{"source":"Auth.js","original":{"line":14,"column":39},"generated":{"line":1,"column":988}},{"source":"Auth.js","name":"apiBase","original":{"line":14,"column":40},"generated":{"line":1,"column":996}},{"source":"Auth.js","original":{"line":14,"column":56},"generated":{"line":1,"column":1004}},{"source":"Auth.js","original":{"line":14,"column":56},"generated":{"line":1,"column":1013}},{"source":"Auth.js","name":"method","original":{"line":15,"column":6},"generated":{"line":1,"column":1014}},{"source":"Auth.js","original":{"line":15,"column":14},"generated":{"line":1,"column":1021}},{"source":"Auth.js","name":"body","original":{"line":16,"column":6},"generated":{"line":1,"column":1028}},{"source":"Auth.js","name":"userData","original":{"line":16,"column":12},"generated":{"line":1,"column":1033}},{"source":"Auth.js","original":{"line":20,"column":4},"generated":{"line":1,"column":1037}},{"source":"Auth.js","name":"response","original":{"line":20,"column":8},"generated":{"line":1,"column":1041}},{"source":"Auth.js","name":"ok","original":{"line":20,"column":17},"generated":{"line":1,"column":1043}},{"source":"Auth.js","original":{"line":20,"column":20},"generated":{"line":1,"column":1046}},{"source":"Auth.js","original":{"line":22,"column":6},"generated":{"line":1,"column":1047}},{"source":"Auth.js","name":"err","original":{"line":22,"column":12},"generated":{"line":1,"column":1053}},{"source":"Auth.js","name":"response","original":{"line":22,"column":24},"generated":{"line":1,"column":1061}},{"source":"Auth.js","name":"json","original":{"line":22,"column":33},"generated":{"line":1,"column":1063}},{"source":"Auth.js","name":"err","original":{"line":23,"column":9},"generated":{"line":1,"column":1070}},{"source":"Auth.js","name":"console","original":{"line":23,"column":14},"generated":{"line":1,"column":1073}},{"source":"Auth.js","name":"log","original":{"line":23,"column":22},"generated":{"line":1,"column":1081}},{"source":"Auth.js","name":"err","original":{"line":23,"column":26},"generated":{"line":1,"column":1085}},{"source":"Auth.js","name":"Toast","original":{"line":25,"column":6},"generated":{"line":1,"column":1088}},{"source":"Auth.js","name":"show","original":{"line":25,"column":12},"generated":{"line":1,"column":1094}},{"source":"Auth.js","name":"concat","original":{"line":25,"column":16},"generated":{"line":1,"column":1099}},{"source":"Auth.js","name":"concat","original":{"line":25,"column":16},"generated":{"line":1,"column":1124}},{"source":"Auth.js","name":"response","original":{"line":25,"column":42},"generated":{"line":1,"column":1131}},{"source":"Auth.js","name":"status","original":{"line":25,"column":51},"generated":{"line":1,"column":1133}},{"source":"Auth.js","original":{"line":27,"column":24},"generated":{"line":1,"column":1142}},{"source":"Auth.js","name":"fail","original":{"line":27,"column":16},"generated":{"line":1,"column":1161}},{"source":"Auth.js","name":"fail","original":{"line":27,"column":36},"generated":{"line":1,"column":1164}},{"source":"Auth.js","name":"Toast","original":{"line":30,"column":4},"generated":{"line":1,"column":1168}},{"source":"Auth.js","name":"show","original":{"line":30,"column":10},"generated":{"line":1,"column":1174}},{"source":"Auth.js","original":{"line":30,"column":15},"generated":{"line":1,"column":1179}},{"source":"Auth.js","original":{"line":32,"column":4},"generated":{"line":1,"column":1215}},{"source":"Auth.js","name":"gotoRoute","original":{"line":32,"column":4},"generated":{"line":1,"column":1217}},{"source":"Auth.js","original":{"line":32,"column":13},"generated":{"line":1,"column":1219}},{"source":"Auth.js","original":{"line":32,"column":14},"generated":{"line":1,"column":1230}},{"source":"Auth.js","original":{"line":36,"column":2},"generated":{"line":1,"column":1241}},{"source":"Auth.js","name":"userData","original":{"line":36,"column":15},"generated":{"line":1,"column":1254}},{"source":"Auth.js","original":{"line":36,"column":38},"generated":{"line":1,"column":1257}},{"source":"Auth.js","name":"fail","original":{"line":36,"column":25},"generated":{"line":1,"column":1261}},{"source":"Auth.js","name":"arguments","original":{"line":36,"column":29},"generated":{"line":1,"column":1263}},{"source":"Auth.js","name":"length","original":{"line":36,"column":29},"generated":{"line":1,"column":1273}},{"source":"Auth.js","name":"arguments","original":{"line":36,"column":29},"generated":{"line":1,"column":1280}},{"source":"Auth.js","name":"undefined","original":{"line":36,"column":29},"generated":{"line":1,"column":1288}},{"source":"Auth.js","name":"arguments","original":{"line":36,"column":29},"generated":{"line":1,"column":1292}},{"source":"Auth.js","name":"undefined","original":{"line":36,"column":29},"generated":{"line":1,"column":1302}},{"source":"Auth.js","name":"arguments","original":{"line":36,"column":29},"generated":{"line":1,"column":1306}},{"source":"Auth.js","original":{"line":36,"column":32},"generated":{"line":1,"column":1316}},{"source":"Auth.js","original":{"line":37,"column":4},"generated":{"line":1,"column":1319}},{"source":"Auth.js","name":"response","original":{"line":37,"column":10},"generated":{"line":1,"column":1325}},{"source":"Auth.js","name":"fetch","original":{"line":37,"column":27},"generated":{"line":1,"column":1333}},{"source":"Auth.js","name":"concat","original":{"line":37,"column":32},"generated":{"line":1,"column":1339}},{"source":"Auth.js","name":"concat","original":{"line":37,"column":32},"generated":{"line":1,"column":1342}},{"source":"Auth.js","name":"App","original":{"line":37,"column":36},"generated":{"line":1,"column":1349}},{"source":"Auth.js","original":{"line":37,"column":39},"generated":{"line":1,"column":1351}},{"source":"Auth.js","name":"apiBase","original":{"line":37,"column":40},"generated":{"line":1,"column":1359}},{"source":"Auth.js","original":{"line":37,"column":63},"generated":{"line":1,"column":1367}},{"source":"Auth.js","original":{"line":37,"column":63},"generated":{"line":1,"column":1383}},{"source":"Auth.js","name":"method","original":{"line":38,"column":6},"generated":{"line":1,"column":1384}},{"source":"Auth.js","original":{"line":38,"column":14},"generated":{"line":1,"column":1391}},{"source":"Auth.js","name":"body","original":{"line":39,"column":6},"generated":{"line":1,"column":1398}},{"source":"Auth.js","name":"userData","original":{"line":39,"column":12},"generated":{"line":1,"column":1403}},{"source":"Auth.js","original":{"line":43,"column":4},"generated":{"line":1,"column":1407}},{"source":"Auth.js","name":"response","original":{"line":43,"column":8},"generated":{"line":1,"column":1411}},{"source":"Auth.js","name":"ok","original":{"line":43,"column":17},"generated":{"line":1,"column":1413}},{"source":"Auth.js","original":{"line":43,"column":20},"generated":{"line":1,"column":1416}},{"source":"Auth.js","original":{"line":45,"column":6},"generated":{"line":1,"column":1417}},{"source":"Auth.js","name":"err","original":{"line":45,"column":12},"generated":{"line":1,"column":1423}},{"source":"Auth.js","name":"response","original":{"line":45,"column":24},"generated":{"line":1,"column":1431}},{"source":"Auth.js","name":"json","original":{"line":45,"column":33},"generated":{"line":1,"column":1433}},{"source":"Auth.js","name":"err","original":{"line":46,"column":9},"generated":{"line":1,"column":1440}},{"source":"Auth.js","name":"console","original":{"line":46,"column":14},"generated":{"line":1,"column":1443}},{"source":"Auth.js","name":"log","original":{"line":46,"column":22},"generated":{"line":1,"column":1451}},{"source":"Auth.js","name":"err","original":{"line":46,"column":26},"generated":{"line":1,"column":1455}},{"source":"Auth.js","name":"Toast","original":{"line":48,"column":6},"generated":{"line":1,"column":1458}},{"source":"Auth.js","name":"show","original":{"line":48,"column":12},"generated":{"line":1,"column":1464}},{"source":"Auth.js","name":"concat","original":{"line":48,"column":16},"generated":{"line":1,"column":1469}},{"source":"Auth.js","name":"concat","original":{"line":48,"column":16},"generated":{"line":1,"column":1492}},{"source":"Auth.js","name":"err","original":{"line":48,"column":40},"generated":{"line":1,"column":1499}},{"source":"Auth.js","name":"message","original":{"line":48,"column":44},"generated":{"line":1,"column":1501}},{"source":"Auth.js","original":{"line":48,"column":55},"generated":{"line":1,"column":1510}},{"source":"Auth.js","original":{"line":50,"column":24},"generated":{"line":1,"column":1519}},{"source":"Auth.js","name":"fail","original":{"line":50,"column":16},"generated":{"line":1,"column":1538}},{"source":"Auth.js","name":"fail","original":{"line":50,"column":36},"generated":{"line":1,"column":1541}},{"source":"Auth.js","original":{"line":54,"column":4},"generated":{"line":1,"column":1545}},{"source":"Auth.js","name":"data","original":{"line":54,"column":10},"generated":{"line":1,"column":1551}},{"source":"Auth.js","name":"response","original":{"line":54,"column":23},"generated":{"line":1,"column":1559}},{"source":"Auth.js","name":"json","original":{"line":54,"column":32},"generated":{"line":1,"column":1561}},{"source":"Auth.js","name":"Toast","original":{"line":55,"column":4},"generated":{"line":1,"column":1568}},{"source":"Auth.js","name":"show","original":{"line":55,"column":10},"generated":{"line":1,"column":1574}},{"source":"Auth.js","name":"concat","original":{"line":55,"column":14},"generated":{"line":1,"column":1579}},{"source":"Auth.js","name":"concat","original":{"line":55,"column":14},"generated":{"line":1,"column":1591}},{"source":"Auth.js","name":"data","original":{"line":55,"column":27},"generated":{"line":1,"column":1598}},{"source":"Auth.js","name":"user","original":{"line":55,"column":32},"generated":{"line":1,"column":1600}},{"source":"Auth.js","name":"firstName","original":{"line":55,"column":37},"generated":{"line":1,"column":1605}},{"source":"Auth.js","name":"localStorage","original":{"line":57,"column":4},"generated":{"line":1,"column":1617}},{"source":"Auth.js","name":"setItem","original":{"line":57,"column":17},"generated":{"line":1,"column":1630}},{"source":"Auth.js","original":{"line":57,"column":25},"generated":{"line":1,"column":1638}},{"source":"Auth.js","name":"data","original":{"line":57,"column":40},"generated":{"line":1,"column":1652}},{"source":"Auth.js","name":"accessToken","original":{"line":57,"column":45},"generated":{"line":1,"column":1654}},{"source":"Auth.js","original":{"line":59,"column":4},"generated":{"line":1,"column":1667}},{"source":"Auth.js","name":"currentUser","original":{"line":59,"column":9},"generated":{"line":1,"column":1672}},{"source":"Auth.js","name":"data","original":{"line":59,"column":23},"generated":{"line":1,"column":1684}},{"source":"Auth.js","name":"user","original":{"line":59,"column":28},"generated":{"line":1,"column":1686}},{"source":"Auth.js","name":"Router","original":{"line":62,"column":4},"generated":{"line":1,"column":1691}},{"source":"Auth.js","original":{"line":62,"column":10},"generated":{"line":1,"column":1693}},{"source":"Auth.js","name":"init","original":{"line":62,"column":11},"generated":{"line":1,"column":1701}},{"source":"Auth.js","original":{"line":63,"column":4},"generated":{"line":1,"column":1709}},{"source":"Auth.js","name":"gotoRoute","original":{"line":63,"column":4},"generated":{"line":1,"column":1711}},{"source":"Auth.js","original":{"line":63,"column":13},"generated":{"line":1,"column":1713}},{"source":"Auth.js","original":{"line":63,"column":14},"generated":{"line":1,"column":1724}},{"source":"Auth.js","original":{"line":67,"column":2},"generated":{"line":1,"column":1729}},{"source":"Auth.js","name":"success","original":{"line":67,"column":14},"generated":{"line":1,"column":1741}},{"source":"Auth.js","original":{"line":72,"column":4},"generated":{"line":1,"column":1744}},{"source":"Auth.js","original":{"line":69,"column":4},"generated":{"line":1,"column":1748}},{"source":"Auth.js","name":"render","original":{"line":69,"column":4},"generated":{"line":1,"column":1750}},{"source":"Auth.js","original":{"line":69,"column":10},"generated":{"line":1,"column":1752}},{"source":"Auth.js","name":"splash","original":{"line":69,"column":11},"generated":{"line":1,"column":1760}},{"source":"Auth.js","original":{"line":69,"column":17},"generated":{"line":1,"column":1762}},{"source":"Auth.js","name":"App","original":{"line":69,"column":19},"generated":{"line":1,"column":1770}},{"source":"Auth.js","original":{"line":69,"column":22},"generated":{"line":1,"column":1772}},{"source":"Auth.js","name":"rootEl","original":{"line":69,"column":23},"generated":{"line":1,"column":1780}},{"source":"Auth.js","name":"localStorage","original":{"line":72,"column":8},"generated":{"line":1,"column":1789}},{"source":"Auth.js","name":"accessToken","original":{"line":72,"column":21},"generated":{"line":1,"column":1802}},{"source":"Auth.js","original":{"line":77,"column":6},"generated":{"line":1,"column":1814}},{"source":"Auth.js","name":"Toast","original":{"line":74,"column":6},"generated":{"line":1,"column":1821}},{"source":"Auth.js","name":"show","original":{"line":74,"column":12},"generated":{"line":1,"column":1827}},{"source":"Auth.js","original":{"line":74,"column":17},"generated":{"line":1,"column":1832}},{"source":"Auth.js","original":{"line":76,"column":6},"generated":{"line":1,"column":1855}},{"source":"Auth.js","name":"gotoRoute","original":{"line":76,"column":6},"generated":{"line":1,"column":1857}},{"source":"Auth.js","original":{"line":76,"column":15},"generated":{"line":1,"column":1859}},{"source":"Auth.js","original":{"line":76,"column":16},"generated":{"line":1,"column":1870}},{"source":"Auth.js","original":{"line":81,"column":4},"generated":{"line":1,"column":1881}},{"source":"Auth.js","name":"response","original":{"line":81,"column":10},"generated":{"line":1,"column":1887}},{"source":"Auth.js","name":"fetch","original":{"line":81,"column":27},"generated":{"line":1,"column":1895}},{"source":"Auth.js","name":"concat","original":{"line":81,"column":32},"generated":{"line":1,"column":1901}},{"source":"Auth.js","name":"concat","original":{"line":81,"column":32},"generated":{"line":1,"column":1904}},{"source":"Auth.js","name":"App","original":{"line":81,"column":36},"generated":{"line":1,"column":1911}},{"source":"Auth.js","original":{"line":81,"column":39},"generated":{"line":1,"column":1913}},{"source":"Auth.js","name":"apiBase","original":{"line":81,"column":40},"generated":{"line":1,"column":1921}},{"source":"Auth.js","original":{"line":81,"column":65},"generated":{"line":1,"column":1929}},{"source":"Auth.js","original":{"line":81,"column":65},"generated":{"line":1,"column":1947}},{"source":"Auth.js","name":"method","original":{"line":82,"column":6},"generated":{"line":1,"column":1948}},{"source":"Auth.js","original":{"line":82,"column":14},"generated":{"line":1,"column":1955}},{"source":"Auth.js","name":"headers","original":{"line":83,"column":6},"generated":{"line":1,"column":1961}},{"source":"Auth.js","original":{"line":83,"column":15},"generated":{"line":1,"column":1969}},{"source":"Auth.js","original":{"line":84,"column":8},"generated":{"line":1,"column":1970}},{"source":"Auth.js","name":"concat","original":{"line":84,"column":23},"generated":{"line":1,"column":1984}},{"source":"Auth.js","name":"concat","original":{"line":84,"column":23},"generated":{"line":1,"column":1994}},{"source":"Auth.js","name":"localStorage","original":{"line":84,"column":35},"generated":{"line":1,"column":2001}},{"source":"Auth.js","name":"accessToken","original":{"line":84,"column":48},"generated":{"line":1,"column":2014}},{"source":"Auth.js","original":{"line":89,"column":4},"generated":{"line":1,"column":2030}},{"source":"Auth.js","name":"response","original":{"line":89,"column":8},"generated":{"line":1,"column":2034}},{"source":"Auth.js","name":"ok","original":{"line":89,"column":17},"generated":{"line":1,"column":2036}},{"source":"Auth.js","original":{"line":89,"column":20},"generated":{"line":1,"column":2039}},{"source":"Auth.js","original":{"line":91,"column":6},"generated":{"line":1,"column":2040}},{"source":"Auth.js","name":"err","original":{"line":91,"column":12},"generated":{"line":1,"column":2046}},{"source":"Auth.js","name":"response","original":{"line":91,"column":24},"generated":{"line":1,"column":2054}},{"source":"Auth.js","name":"json","original":{"line":91,"column":33},"generated":{"line":1,"column":2056}},{"source":"Auth.js","original":{"line":98,"column":6},"generated":{"line":1,"column":2063}},{"source":"Auth.js","name":"err","original":{"line":92,"column":9},"generated":{"line":1,"column":2070}},{"source":"Auth.js","name":"console","original":{"line":92,"column":14},"generated":{"line":1,"column":2073}},{"source":"Auth.js","name":"log","original":{"line":92,"column":22},"generated":{"line":1,"column":2081}},{"source":"Auth.js","name":"err","original":{"line":92,"column":26},"generated":{"line":1,"column":2085}},{"source":"Auth.js","name":"localStorage","original":{"line":94,"column":6},"generated":{"line":1,"column":2088}},{"source":"Auth.js","name":"removeItem","original":{"line":94,"column":19},"generated":{"line":1,"column":2101}},{"source":"Auth.js","original":{"line":94,"column":30},"generated":{"line":1,"column":2112}},{"source":"Auth.js","name":"Toast","original":{"line":95,"column":6},"generated":{"line":1,"column":2127}},{"source":"Auth.js","name":"show","original":{"line":95,"column":12},"generated":{"line":1,"column":2133}},{"source":"Auth.js","original":{"line":95,"column":17},"generated":{"line":1,"column":2138}},{"source":"Auth.js","original":{"line":97,"column":6},"generated":{"line":1,"column":2178}},{"source":"Auth.js","name":"gotoRoute","original":{"line":97,"column":6},"generated":{"line":1,"column":2180}},{"source":"Auth.js","original":{"line":97,"column":15},"generated":{"line":1,"column":2182}},{"source":"Auth.js","original":{"line":97,"column":16},"generated":{"line":1,"column":2193}},{"source":"Auth.js","original":{"line":102,"column":4},"generated":{"line":1,"column":2204}},{"source":"Auth.js","name":"data","original":{"line":102,"column":10},"generated":{"line":1,"column":2210}},{"source":"Auth.js","name":"response","original":{"line":102,"column":23},"generated":{"line":1,"column":2218}},{"source":"Auth.js","name":"json","original":{"line":102,"column":32},"generated":{"line":1,"column":2220}},{"source":"Auth.js","original":{"line":105,"column":4},"generated":{"line":1,"column":2227}},{"source":"Auth.js","name":"currentUser","original":{"line":105,"column":9},"generated":{"line":1,"column":2232}},{"source":"Auth.js","name":"data","original":{"line":105,"column":23},"generated":{"line":1,"column":2244}},{"source":"Auth.js","name":"user","original":{"line":105,"column":28},"generated":{"line":1,"column":2246}},{"source":"Auth.js","name":"success","original":{"line":107,"column":4},"generated":{"line":1,"column":2251}},{"source":"Auth.js","name":"signOut","original":{"line":110,"column":2},"generated":{"line":1,"column":2255}},{"source":"Auth.js","name":"Toast","original":{"line":111,"column":4},"generated":{"line":1,"column":2265}},{"source":"Auth.js","name":"show","original":{"line":111,"column":10},"generated":{"line":1,"column":2271}},{"source":"Auth.js","original":{"line":111,"column":15},"generated":{"line":1,"column":2276}},{"source":"Auth.js","name":"localStorage","original":{"line":113,"column":4},"generated":{"line":1,"column":2298}},{"source":"Auth.js","name":"removeItem","original":{"line":113,"column":17},"generated":{"line":1,"column":2311}},{"source":"Auth.js","original":{"line":113,"column":28},"generated":{"line":1,"column":2322}},{"source":"Auth.js","original":{"line":115,"column":4},"generated":{"line":1,"column":2338}},{"source":"Auth.js","name":"gotoRoute","original":{"line":115,"column":4},"generated":{"line":1,"column":2340}},{"source":"Auth.js","original":{"line":115,"column":13},"generated":{"line":1,"column":2342}},{"source":"Auth.js","original":{"line":115,"column":14},"generated":{"line":1,"column":2353}},{"source":"Auth.js","original":{"line":117,"column":4},"generated":{"line":1,"column":2364}},{"source":"Auth.js","name":"currentUser","original":{"line":117,"column":9},"generated":{"line":1,"column":2369}},{"source":"Auth.js","original":{"line":117,"column":23},"generated":{"line":1,"column":2381}},{"source":"Auth.js","original":{"line":119,"column":1},"generated":{"line":1,"column":2387}},{"source":"Auth.js","name":"_default","original":{"line":119,"column":1},"generated":{"line":1,"column":2391}},{"source":"Auth.js","original":{"line":121,"column":15},"generated":{"line":1,"column":2393}},{"source":"Auth.js","name":"Auth","original":{"line":121,"column":19},"generated":{"line":1,"column":2397}},{"source":"Auth.js","name":"exports","original":{"line":121,"column":25},"generated":{"line":1,"column":2399}},{"source":"Auth.js","name":"default","original":{"line":121,"column":25},"generated":{"line":1,"column":2407}},{"source":"Auth.js","name":"_default","original":{"line":121,"column":25},"generated":{"line":1,"column":2415}}],"sources":{"Auth.js":"import App from './App'\r\nimport Router, { gotoRoute } from './Router'\r\nimport splash from './views/partials/splash.partial'\r\nimport {html, render } from 'lit-html'\r\n//import Toast from './Toast'\r\n\r\nclass Auth {\r\n\r\n  constructor(){\r\n    this.currentUser = {}\r\n  }\r\n  \r\n  async signUp(userData, fail = false){  \r\n    const response = await fetch(`${App.apiBase}/user`, {\r\n      method: 'POST',      \r\n      body: userData\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){      \r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // show error      \r\n      Toast.show(`Problem getting user: ${response.status}`)   \r\n      // run fail() functon if set\r\n      if(typeof fail == 'function') fail()\r\n    }\r\n    /// sign up success - show toast and redirect to sign in page\r\n    Toast.show('Account created, please sign in')        \r\n    // redirect to signin\r\n    gotoRoute('/signin')\r\n  }\r\n\r\n\r\n  async signIn(userData, fail = false){\r\n    const response = await fetch(`${App.apiBase}/auth/signin`, {\r\n      method: 'POST',      \r\n      body: userData\r\n    })\r\n\r\n    // if response not ok\r\n    if(!response.ok){\r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // show error      \r\n      Toast.show(`Problem signing in: ${err.message}`, 'error')   \r\n      // run fail() functon if set\r\n      if(typeof fail == 'function') fail()\r\n    }\r\n\r\n    // sign in success\r\n    const data = await response.json()\r\n    Toast.show(`Welcome  ${data.user.firstName}`)\r\n    // save access token (jwt) to local storage\r\n    localStorage.setItem('accessToken', data.accessToken)\r\n    // set current user\r\n    this.currentUser = data.user      \r\n    // console.log(this.currentUser)           \r\n    // redirect to home\r\n    Router.init()\r\n    gotoRoute('/')\r\n  }\r\n\r\n\r\n  async check(success){\r\n    // show splash screen while loading ...   \r\n    render(splash, App.rootEl)\r\n    \r\n    // check local token is there\r\n    if(!localStorage.accessToken){\r\n      // no local token!\r\n      Toast.show(\"Please sign in\")    \r\n      // redirect to sign in page      \r\n      gotoRoute('/signin')\r\n      return\r\n    }\r\n    \r\n    // token must exist - validate token via the backend\r\n    const response = await fetch(`${App.apiBase}/auth/validate`, {\r\n      method: 'GET',\r\n      headers: {        \r\n        \"Authorization\": `Bearer ${localStorage.accessToken}`\r\n      }\r\n    })\r\n    \r\n    // if response not ok\r\n    if(!response.ok){             \r\n      // console log error\r\n      const err = await response.json()\r\n      if(err) console.log(err)\r\n      // delete local token\r\n      localStorage.removeItem('accessToken')\r\n      Toast.show(\"session expired, please sign in\")\r\n      // redirect to sign in      \r\n      gotoRoute('/signin')\r\n      return\r\n    }\r\n    \r\n    // token is valid!\r\n    const data = await response.json()\r\n    // console.log(data)\r\n    // set currentUser obj\r\n    this.currentUser = data.user\r\n    // run success\r\n    success()\r\n  }\r\n\r\n  signOut(){\r\n    Toast.show(\"You are signed out\")\r\n    // delete local token\r\n    localStorage.removeItem('accessToken')       \r\n    // redirect to sign in    \r\n    gotoRoute('/signin')\r\n    // unset currentUser\r\n    this.currentUser = null\r\n  }\r\n}\r\n\r\nexport default new Auth()"},"lineCount":null}},"error":null,"hash":"111fe04b3846ccdfe1e8fb8d8e3318a2","cacheData":{"env":{}}}