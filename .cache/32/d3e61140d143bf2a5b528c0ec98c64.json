{"id":"JmJa","dependencies":[{"name":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\package.json","includedInParent":true,"mtime":1684389396229},{"name":"./../../App","loc":{"line":9,"column":16,"index":113},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\reviews.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\App.js"},{"name":"../../services/AuthAPI","loc":{"line":10,"column":20,"index":149},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\reviews.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\AuthAPI.js"},{"name":"../../services/UserAPI","loc":{"line":11,"column":20,"index":196},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\reviews.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\UserAPI.js"},{"name":"../../services/ReviewAPI","loc":{"line":12,"column":22,"index":245},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\reviews.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\ReviewAPI.js"},{"name":"../../utils/pagination.utils","loc":{"line":13,"column":28,"index":302},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\reviews.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\pagination.utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e,t,n=l(require(\"./../../App\")),a=l(require(\"../../services/AuthAPI\")),s=l(require(\"../../services/UserAPI\")),r=l(require(\"../../services/ReviewAPI\")),i=l(require(\"../../utils/pagination.utils\"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class d{init(){document.title=\"Your Reviews\",this.render(),i.default.disableButton(\".prev-page-btn, .next-page-btn\"),this.loadData()}async loadData(e){1!=e&&0!=e||(1==e?i.default.incrementPage():0==e&&i.default.decrementPage());await r.default.getNumPages(a.default.currentUser._id);i.default.updatePaginationButtons();const t=await r.default.getPage(this.currPage,a.default.currentUser._id,a.default.currentUser.accessLevel);this.renderListings(t)}async renderListings(t){const n=[];for(const a of t){const t=await s.default.getRestaurantName(a.restaurantId);n.push(html(e||(e=u([\"<review-listing restaurant_name=\",\" review=\",\"></review-listing>\"])),t.restaurantName,JSON.stringify(a)))}render(n,document.getElementById(\"reviews-container\"))}render(){const e=html(t||(t=u(['\\n       \\n       \\n        <app-header title=\"Reviews\" user=','></app-header>\\n        <div class=\"page-content main-container\">\\n      \\n  <h1>Your Reviews</h1>\\n\\n  <div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev hidden\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n\\n\\n      <div id=\"reviews-container\">\\n      </div>\\n\\n\\n      <div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev hidden\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n\\n        </div>\\n<app-footer title=',\"></app-footer>\\n\\n\\n        \\n        \"])),JSON.stringify(a.default.currentUser),()=>this.loadData(!1),()=>this.loadData(!0),()=>this.loadData(!1),()=>this.loadData(!0),document.title);render(e,n.default.rootEl)}}var c=new d;exports.default=c;"},"sourceMaps":{"js":{"mappings":[{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":0}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":13}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":20}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":35}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":43}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":56}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":57}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":64}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":68}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":76}},{"source":"views/pages/reviews.js","original":{"line":119,"column":32},"generated":{"line":1,"column":89}},{"source":"views/pages/reviews.js","original":{"line":9,"column":0},"generated":{"line":1,"column":91}},{"source":"views/pages/reviews.js","name":"_templateObject","original":{"line":13,"column":59},"generated":{"line":1,"column":95}},{"source":"views/pages/reviews.js","name":"_templateObject2","original":{"line":13,"column":59},"generated":{"line":1,"column":97}},{"source":"views/pages/reviews.js","name":"_App","original":{"line":9,"column":0},"generated":{"line":1,"column":99}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":9,"column":0},"generated":{"line":1,"column":101}},{"source":"views/pages/reviews.js","name":"require","original":{"line":9,"column":0},"generated":{"line":1,"column":103}},{"source":"views/pages/reviews.js","original":{"line":9,"column":0},"generated":{"line":1,"column":111}},{"source":"views/pages/reviews.js","name":"_AuthAPI","original":{"line":10,"column":0},"generated":{"line":1,"column":127}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":10,"column":0},"generated":{"line":1,"column":129}},{"source":"views/pages/reviews.js","name":"require","original":{"line":10,"column":0},"generated":{"line":1,"column":131}},{"source":"views/pages/reviews.js","original":{"line":10,"column":0},"generated":{"line":1,"column":139}},{"source":"views/pages/reviews.js","name":"_UserAPI","original":{"line":11,"column":0},"generated":{"line":1,"column":166}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":11,"column":0},"generated":{"line":1,"column":168}},{"source":"views/pages/reviews.js","name":"require","original":{"line":11,"column":0},"generated":{"line":1,"column":170}},{"source":"views/pages/reviews.js","original":{"line":11,"column":0},"generated":{"line":1,"column":178}},{"source":"views/pages/reviews.js","name":"_ReviewAPI","original":{"line":12,"column":0},"generated":{"line":1,"column":205}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":12,"column":0},"generated":{"line":1,"column":207}},{"source":"views/pages/reviews.js","name":"require","original":{"line":12,"column":0},"generated":{"line":1,"column":209}},{"source":"views/pages/reviews.js","original":{"line":12,"column":0},"generated":{"line":1,"column":217}},{"source":"views/pages/reviews.js","name":"_pagination","original":{"line":13,"column":0},"generated":{"line":1,"column":246}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":13,"column":0},"generated":{"line":1,"column":248}},{"source":"views/pages/reviews.js","name":"require","original":{"line":13,"column":0},"generated":{"line":1,"column":250}},{"source":"views/pages/reviews.js","original":{"line":13,"column":0},"generated":{"line":1,"column":258}},{"source":"views/pages/reviews.js","original":{"line":13,"column":59},"generated":{"line":1,"column":291}},{"source":"views/pages/reviews.js","name":"_interopRequireDefault","original":{"line":13,"column":59},"generated":{"line":1,"column":300}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":302}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":305}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":312}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":315}},{"source":"views/pages/reviews.js","name":"__esModule","original":{"line":13,"column":59},"generated":{"line":1,"column":317}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":328}},{"source":"views/pages/reviews.js","name":"default","original":{"line":13,"column":59},"generated":{"line":1,"column":330}},{"source":"views/pages/reviews.js","name":"default","original":{"line":13,"column":59},"generated":{"line":1,"column":331}},{"source":"views/pages/reviews.js","name":"obj","original":{"line":13,"column":59},"generated":{"line":1,"column":339}},{"source":"views/pages/reviews.js","original":{"line":13,"column":59},"generated":{"line":1,"column":342}},{"source":"views/pages/reviews.js","name":"_taggedTemplateLiteral","original":{"line":13,"column":59},"generated":{"line":1,"column":351}},{"source":"views/pages/reviews.js","name":"strings","original":{"line":13,"column":59},"generated":{"line":1,"column":353}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":355}},{"source":"views/pages/reviews.js","name":"Object","original":{"line":13,"column":59},"generated":{"line":1,"column":358}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":365}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":369}},{"source":"views/pages/reviews.js","name":"strings","original":{"line":13,"column":59},"generated":{"line":1,"column":371}},{"source":"views/pages/reviews.js","name":"slice","original":{"line":13,"column":59},"generated":{"line":1,"column":373}},{"source":"views/pages/reviews.js","name":"Object","original":{"line":13,"column":59},"generated":{"line":1,"column":379}},{"source":"views/pages/reviews.js","name":"Object","original":{"line":13,"column":59},"generated":{"line":1,"column":383}},{"source":"views/pages/reviews.js","name":"freeze","original":{"line":13,"column":59},"generated":{"line":1,"column":390}},{"source":"views/pages/reviews.js","name":"Object","original":{"line":13,"column":59},"generated":{"line":1,"column":397}},{"source":"views/pages/reviews.js","name":"defineProperties","original":{"line":13,"column":59},"generated":{"line":1,"column":404}},{"source":"views/pages/reviews.js","name":"strings","original":{"line":13,"column":59},"generated":{"line":1,"column":421}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":423}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":424}},{"source":"views/pages/reviews.js","name":"value","original":{"line":13,"column":59},"generated":{"line":1,"column":428}},{"source":"views/pages/reviews.js","name":"value","original":{"line":13,"column":59},"generated":{"line":1,"column":429}},{"source":"views/pages/reviews.js","name":"Object","original":{"line":13,"column":59},"generated":{"line":1,"column":435}},{"source":"views/pages/reviews.js","name":"freeze","original":{"line":13,"column":59},"generated":{"line":1,"column":442}},{"source":"views/pages/reviews.js","name":"raw","original":{"line":13,"column":59},"generated":{"line":1,"column":449}},{"source":"views/pages/reviews.js","original":{"line":17,"column":0},"generated":{"line":1,"column":456}},{"source":"views/pages/reviews.js","name":"ReviewsView","original":{"line":17,"column":6},"generated":{"line":1,"column":462}},{"source":"views/pages/reviews.js","name":"init","original":{"line":23,"column":4},"generated":{"line":1,"column":464}},{"source":"views/pages/reviews.js","name":"document","original":{"line":24,"column":8},"generated":{"line":1,"column":471}},{"source":"views/pages/reviews.js","name":"title","original":{"line":24,"column":17},"generated":{"line":1,"column":480}},{"source":"views/pages/reviews.js","original":{"line":24,"column":25},"generated":{"line":1,"column":486}},{"source":"views/pages/reviews.js","original":{"line":25,"column":0},"generated":{"line":1,"column":501}},{"source":"views/pages/reviews.js","name":"render","original":{"line":25,"column":5},"generated":{"line":1,"column":506}},{"source":"views/pages/reviews.js","name":"paginationUtils","original":{"line":26,"column":0},"generated":{"line":1,"column":515}},{"source":"views/pages/reviews.js","original":{"line":26,"column":15},"generated":{"line":1,"column":517}},{"source":"views/pages/reviews.js","name":"disableButton","original":{"line":26,"column":16},"generated":{"line":1,"column":525}},{"source":"views/pages/reviews.js","original":{"line":26,"column":30},"generated":{"line":1,"column":539}},{"source":"views/pages/reviews.js","original":{"line":27,"column":0},"generated":{"line":1,"column":573}},{"source":"views/pages/reviews.js","name":"loadData","original":{"line":27,"column":5},"generated":{"line":1,"column":578}},{"source":"views/pages/reviews.js","original":{"line":34,"column":0},"generated":{"line":1,"column":589}},{"source":"views/pages/reviews.js","name":"isNextPage","original":{"line":34,"column":15},"generated":{"line":1,"column":604}},{"source":"views/pages/reviews.js","original":{"line":36,"column":20},"generated":{"line":1,"column":607}},{"source":"views/pages/reviews.js","name":"isNextPage","original":{"line":36,"column":6},"generated":{"line":1,"column":610}},{"source":"views/pages/reviews.js","original":{"line":36,"column":42},"generated":{"line":1,"column":613}},{"source":"views/pages/reviews.js","name":"isNextPage","original":{"line":36,"column":28},"generated":{"line":1,"column":616}},{"source":"views/pages/reviews.js","original":{"line":38,"column":24},"generated":{"line":1,"column":620}},{"source":"views/pages/reviews.js","name":"isNextPage","original":{"line":38,"column":10},"generated":{"line":1,"column":623}},{"source":"views/pages/reviews.js","name":"paginationUtils","original":{"line":39,"column":8},"generated":{"line":1,"column":625}},{"source":"views/pages/reviews.js","original":{"line":39,"column":23},"generated":{"line":1,"column":627}},{"source":"views/pages/reviews.js","name":"incrementPage","original":{"line":39,"column":24},"generated":{"line":1,"column":635}},{"source":"views/pages/reviews.js","original":{"line":42,"column":33},"generated":{"line":1,"column":651}},{"source":"views/pages/reviews.js","name":"isNextPage","original":{"line":42,"column":19},"generated":{"line":1,"column":654}},{"source":"views/pages/reviews.js","name":"paginationUtils","original":{"line":43,"column":13},"generated":{"line":1,"column":657}},{"source":"views/pages/reviews.js","original":{"line":43,"column":28},"generated":{"line":1,"column":659}},{"source":"views/pages/reviews.js","name":"decrementPage","original":{"line":43,"column":29},"generated":{"line":1,"column":667}},{"source":"views/pages/reviews.js","name":"ReviewAPI","original":{"line":48,"column":26},"generated":{"line":1,"column":690}},{"source":"views/pages/reviews.js","original":{"line":48,"column":35},"generated":{"line":1,"column":692}},{"source":"views/pages/reviews.js","name":"getNumPages","original":{"line":48,"column":36},"generated":{"line":1,"column":700}},{"source":"views/pages/reviews.js","name":"AuthAPI","original":{"line":48,"column":48},"generated":{"line":1,"column":712}},{"source":"views/pages/reviews.js","original":{"line":48,"column":55},"generated":{"line":1,"column":714}},{"source":"views/pages/reviews.js","name":"currentUser","original":{"line":48,"column":56},"generated":{"line":1,"column":722}},{"source":"views/pages/reviews.js","name":"_id","original":{"line":48,"column":68},"generated":{"line":1,"column":734}},{"source":"views/pages/reviews.js","name":"paginationUtils","original":{"line":51,"column":2},"generated":{"line":1,"column":739}},{"source":"views/pages/reviews.js","original":{"line":51,"column":17},"generated":{"line":1,"column":741}},{"source":"views/pages/reviews.js","name":"updatePaginationButtons","original":{"line":51,"column":18},"generated":{"line":1,"column":749}},{"source":"views/pages/reviews.js","original":{"line":52,"column":0},"generated":{"line":1,"column":775}},{"source":"views/pages/reviews.js","name":"data","original":{"line":52,"column":6},"generated":{"line":1,"column":781}},{"source":"views/pages/reviews.js","name":"ReviewAPI","original":{"line":52,"column":19},"generated":{"line":1,"column":789}},{"source":"views/pages/reviews.js","original":{"line":52,"column":28},"generated":{"line":1,"column":791}},{"source":"views/pages/reviews.js","name":"getPage","original":{"line":52,"column":29},"generated":{"line":1,"column":799}},{"source":"views/pages/reviews.js","original":{"line":52,"column":37},"generated":{"line":1,"column":807}},{"source":"views/pages/reviews.js","name":"currPage","original":{"line":52,"column":42},"generated":{"line":1,"column":812}},{"source":"views/pages/reviews.js","name":"AuthAPI","original":{"line":52,"column":52},"generated":{"line":1,"column":821}},{"source":"views/pages/reviews.js","original":{"line":52,"column":59},"generated":{"line":1,"column":823}},{"source":"views/pages/reviews.js","name":"currentUser","original":{"line":52,"column":60},"generated":{"line":1,"column":831}},{"source":"views/pages/reviews.js","name":"_id","original":{"line":52,"column":72},"generated":{"line":1,"column":843}},{"source":"views/pages/reviews.js","name":"AuthAPI","original":{"line":52,"column":77},"generated":{"line":1,"column":847}},{"source":"views/pages/reviews.js","original":{"line":52,"column":84},"generated":{"line":1,"column":849}},{"source":"views/pages/reviews.js","name":"currentUser","original":{"line":52,"column":85},"generated":{"line":1,"column":857}},{"source":"views/pages/reviews.js","name":"accessLevel","original":{"line":52,"column":97},"generated":{"line":1,"column":869}},{"source":"views/pages/reviews.js","original":{"line":54,"column":0},"generated":{"line":1,"column":882}},{"source":"views/pages/reviews.js","name":"renderListings","original":{"line":54,"column":5},"generated":{"line":1,"column":887}},{"source":"views/pages/reviews.js","name":"data","original":{"line":54,"column":20},"generated":{"line":1,"column":902}},{"source":"views/pages/reviews.js","original":{"line":61,"column":0},"generated":{"line":1,"column":905}},{"source":"views/pages/reviews.js","name":"data","original":{"line":61,"column":21},"generated":{"line":1,"column":926}},{"source":"views/pages/reviews.js","original":{"line":63,"column":8},"generated":{"line":1,"column":929}},{"source":"views/pages/reviews.js","name":"listingTemplates","original":{"line":63,"column":14},"generated":{"line":1,"column":935}},{"source":"views/pages/reviews.js","original":{"line":63,"column":33},"generated":{"line":1,"column":937}},{"source":"views/pages/reviews.js","original":{"line":64,"column":8},"generated":{"line":1,"column":940}},{"source":"views/pages/reviews.js","original":{"line":64,"column":13},"generated":{"line":1,"column":944}},{"source":"views/pages/reviews.js","name":"item","original":{"line":64,"column":19},"generated":{"line":1,"column":950}},{"source":"views/pages/reviews.js","name":"data","original":{"line":64,"column":27},"generated":{"line":1,"column":955}},{"source":"views/pages/reviews.js","original":{"line":64,"column":33},"generated":{"line":1,"column":957}},{"source":"views/pages/reviews.js","original":{"line":65,"column":10},"generated":{"line":1,"column":958}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":65,"column":16},"generated":{"line":1,"column":964}},{"source":"views/pages/reviews.js","name":"UserAPI","original":{"line":65,"column":35},"generated":{"line":1,"column":972}},{"source":"views/pages/reviews.js","original":{"line":65,"column":42},"generated":{"line":1,"column":974}},{"source":"views/pages/reviews.js","name":"getRestaurantName","original":{"line":65,"column":43},"generated":{"line":1,"column":982}},{"source":"views/pages/reviews.js","name":"item","original":{"line":65,"column":61},"generated":{"line":1,"column":1000}},{"source":"views/pages/reviews.js","name":"restaurantId","original":{"line":65,"column":66},"generated":{"line":1,"column":1002}},{"source":"views/pages/reviews.js","name":"listingTemplates","original":{"line":67,"column":10},"generated":{"line":1,"column":1016}},{"source":"views/pages/reviews.js","name":"push","original":{"line":67,"column":27},"generated":{"line":1,"column":1018}},{"source":"views/pages/reviews.js","name":"html","original":{"line":67,"column":32},"generated":{"line":1,"column":1023}},{"source":"views/pages/reviews.js","name":"_templateObject","original":{"line":67,"column":36},"generated":{"line":1,"column":1028}},{"source":"views/pages/reviews.js","name":"_templateObject","original":{"line":67,"column":36},"generated":{"line":1,"column":1032}},{"source":"views/pages/reviews.js","name":"_taggedTemplateLiteral","original":{"line":67,"column":36},"generated":{"line":1,"column":1034}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":67,"column":71},"generated":{"line":1,"column":1036}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":67,"column":71},"generated":{"line":1,"column":1037}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":67,"column":71},"generated":{"line":1,"column":1072}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":67,"column":71},"generated":{"line":1,"column":1083}},{"source":"views/pages/reviews.js","name":"restaurant","original":{"line":67,"column":71},"generated":{"line":1,"column":1107}},{"source":"views/pages/reviews.js","name":"restaurantName","original":{"line":67,"column":82},"generated":{"line":1,"column":1109}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":67,"column":107},"generated":{"line":1,"column":1124}},{"source":"views/pages/reviews.js","name":"stringify","original":{"line":67,"column":112},"generated":{"line":1,"column":1129}},{"source":"views/pages/reviews.js","name":"item","original":{"line":67,"column":122},"generated":{"line":1,"column":1139}},{"source":"views/pages/reviews.js","name":"render","original":{"line":71,"column":2},"generated":{"line":1,"column":1144}},{"source":"views/pages/reviews.js","name":"listingTemplates","original":{"line":71,"column":9},"generated":{"line":1,"column":1151}},{"source":"views/pages/reviews.js","name":"document","original":{"line":71,"column":27},"generated":{"line":1,"column":1153}},{"source":"views/pages/reviews.js","name":"getElementById","original":{"line":71,"column":36},"generated":{"line":1,"column":1162}},{"source":"views/pages/reviews.js","original":{"line":71,"column":51},"generated":{"line":1,"column":1177}},{"source":"views/pages/reviews.js","name":"render","original":{"line":78,"column":4},"generated":{"line":1,"column":1199}},{"source":"views/pages/reviews.js","original":{"line":80,"column":8},"generated":{"line":1,"column":1208}},{"source":"views/pages/reviews.js","name":"template","original":{"line":80,"column":14},"generated":{"line":1,"column":1214}},{"source":"views/pages/reviews.js","name":"html","original":{"line":80,"column":25},"generated":{"line":1,"column":1216}},{"source":"views/pages/reviews.js","name":"_templateObject2","original":{"line":80,"column":29},"generated":{"line":1,"column":1221}},{"source":"views/pages/reviews.js","name":"_templateObject2","original":{"line":80,"column":29},"generated":{"line":1,"column":1225}},{"source":"views/pages/reviews.js","name":"_taggedTemplateLiteral","original":{"line":80,"column":29},"generated":{"line":1,"column":1227}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1229}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1230}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1294}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1475}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1569}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1756}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1850}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1935}},{"source":"views/pages/reviews.js","name":"JSON","original":{"line":83,"column":43},"generated":{"line":1,"column":1979}},{"source":"views/pages/reviews.js","name":"stringify","original":{"line":83,"column":48},"generated":{"line":1,"column":1984}},{"source":"views/pages/reviews.js","name":"AuthAPI","original":{"line":83,"column":58},"generated":{"line":1,"column":1994}},{"source":"views/pages/reviews.js","original":{"line":83,"column":65},"generated":{"line":1,"column":1996}},{"source":"views/pages/reviews.js","name":"currentUser","original":{"line":83,"column":66},"generated":{"line":1,"column":2004}},{"source":"views/pages/reviews.js","original":{"line":89,"column":50},"generated":{"line":1,"column":2017}},{"source":"views/pages/reviews.js","original":{"line":89,"column":55},"generated":{"line":1,"column":2021}},{"source":"views/pages/reviews.js","name":"loadData","original":{"line":89,"column":60},"generated":{"line":1,"column":2026}},{"source":"views/pages/reviews.js","original":{"line":89,"column":69},"generated":{"line":1,"column":2036}},{"source":"views/pages/reviews.js","original":{"line":90,"column":50},"generated":{"line":1,"column":2039}},{"source":"views/pages/reviews.js","original":{"line":90,"column":55},"generated":{"line":1,"column":2043}},{"source":"views/pages/reviews.js","name":"loadData","original":{"line":90,"column":60},"generated":{"line":1,"column":2048}},{"source":"views/pages/reviews.js","original":{"line":90,"column":69},"generated":{"line":1,"column":2058}},{"source":"views/pages/reviews.js","original":{"line":99,"column":50},"generated":{"line":1,"column":2061}},{"source":"views/pages/reviews.js","original":{"line":99,"column":55},"generated":{"line":1,"column":2065}},{"source":"views/pages/reviews.js","name":"loadData","original":{"line":99,"column":60},"generated":{"line":1,"column":2070}},{"source":"views/pages/reviews.js","original":{"line":99,"column":69},"generated":{"line":1,"column":2080}},{"source":"views/pages/reviews.js","original":{"line":100,"column":50},"generated":{"line":1,"column":2083}},{"source":"views/pages/reviews.js","original":{"line":100,"column":55},"generated":{"line":1,"column":2087}},{"source":"views/pages/reviews.js","name":"loadData","original":{"line":100,"column":60},"generated":{"line":1,"column":2092}},{"source":"views/pages/reviews.js","original":{"line":100,"column":69},"generated":{"line":1,"column":2102}},{"source":"views/pages/reviews.js","name":"document","original":{"line":104,"column":20},"generated":{"line":1,"column":2105}},{"source":"views/pages/reviews.js","name":"title","original":{"line":104,"column":29},"generated":{"line":1,"column":2114}},{"source":"views/pages/reviews.js","name":"render","original":{"line":110,"column":0},"generated":{"line":1,"column":2121}},{"source":"views/pages/reviews.js","name":"template","original":{"line":110,"column":7},"generated":{"line":1,"column":2128}},{"source":"views/pages/reviews.js","name":"App","original":{"line":110,"column":17},"generated":{"line":1,"column":2130}},{"source":"views/pages/reviews.js","original":{"line":110,"column":20},"generated":{"line":1,"column":2132}},{"source":"views/pages/reviews.js","name":"rootEl","original":{"line":110,"column":21},"generated":{"line":1,"column":2140}},{"source":"views/pages/reviews.js","original":{"line":118,"column":0},"generated":{"line":1,"column":2149}},{"source":"views/pages/reviews.js","name":"_default","original":{"line":118,"column":0},"generated":{"line":1,"column":2153}},{"source":"views/pages/reviews.js","original":{"line":119,"column":15},"generated":{"line":1,"column":2155}},{"source":"views/pages/reviews.js","name":"ReviewsView","original":{"line":119,"column":19},"generated":{"line":1,"column":2159}},{"source":"views/pages/reviews.js","name":"exports","original":{"line":119,"column":32},"generated":{"line":1,"column":2161}},{"source":"views/pages/reviews.js","name":"default","original":{"line":119,"column":32},"generated":{"line":1,"column":2169}},{"source":"views/pages/reviews.js","name":"_default","original":{"line":119,"column":32},"generated":{"line":1,"column":2177}}],"sources":{"views/pages/reviews.js":"/**\r\n * Reviews view\r\n * \r\n * Author: Ryan Riddiford\r\n * Student ID: 20862086\r\n */\r\n\r\n//Imports\r\nimport App from './../../App';\r\nimport AuthAPI from '../../services/AuthAPI';\r\nimport UserAPI from '../../services/UserAPI';\r\nimport ReviewAPI from '../../services/ReviewAPI';\r\nimport paginationUtils from '../../utils/pagination.utils';\r\n\r\n\r\n//Displays your reviews as paginated listings\r\nclass ReviewsView {\r\n\r\n\r\n  /**\r\n   * Initialise\r\n   */\r\n    init() {\r\n        document.title = 'Your Reviews';    \r\nthis.render(); \r\npaginationUtils.disableButton('.prev-page-btn, .next-page-btn');\r\nthis.loadData();\r\n    }\r\n\r\n/**\r\n * Load a page of data\r\n * @param {*} isNextPage \r\n */\r\nasync loadData(isNextPage) {\r\n  //If loading a subsequent page\r\n  if (isNextPage == true || isNextPage == false) {\r\n      //Increment for next page\r\n      if (isNextPage == true) {   \r\n        paginationUtils.incrementPage();\r\n          }\r\n          //Decrement for previous page\r\n          else if (isNextPage == false) {  \r\n             paginationUtils.decrementPage();\r\n          }\r\n  }\r\n\r\n     //Find number of pages\r\n   const numPages = await ReviewAPI.getNumPages(AuthAPI.currentUser._id);\r\n\r\n  //Disable/enable pagination buttons\r\n  paginationUtils.updatePaginationButtons();\r\nconst data = await ReviewAPI.getPage(this.currPage, AuthAPI.currentUser._id, AuthAPI.currentUser.accessLevel);  \r\n      //Render data listing array to container element\r\nthis.renderListings(data);  \r\n}\r\n\r\n/**\r\n * Render the data listings to container element\r\n * @param {*} data array of data to render listings with\r\n */\r\nasync renderListings(data) {\r\n        //Build template array of review listings\r\n        const listingTemplates = [];\r\n        for (const item of data) {\r\n          const restaurant = await UserAPI.getRestaurantName(item.restaurantId);\r\n\r\n          listingTemplates.push(html`<review-listing restaurant_name=${restaurant.restaurantName} review=${JSON.stringify(item)}></review-listing>`);\r\n        }\r\n\r\n        //Render review listing template array to reviews container\r\n  render(listingTemplates, document.getElementById(\"reviews-container\"));\r\n}\r\n\r\n\r\n/**\r\n * Render review page\r\n */\r\n    render() {\r\n\r\n        const template = html`\r\n       \r\n       \r\n        <app-header title=\"Reviews\" user=${JSON.stringify(AuthAPI.currentUser)}></app-header>\r\n        <div class=\"page-content main-container\">\r\n      \r\n  <h1>Your Reviews</h1>\r\n\r\n  <div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> this.loadData(false)} class=\"prev hidden\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n\r\n\r\n      <div id=\"reviews-container\">\r\n      </div>\r\n\r\n\r\n      <div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> this.loadData(false)} class=\"prev hidden\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n\r\n        </div>\r\n<app-footer title=${document.title}></app-footer>\r\n\r\n\r\n        \r\n        `;\r\n\r\nrender(template, App.rootEl);\r\n\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n//Export the reviews view\r\nexport default new ReviewsView();"},"lineCount":null}},"error":null,"hash":"64d26cfc44d9ac1de69afc2c780baa48","cacheData":{"env":{}}}