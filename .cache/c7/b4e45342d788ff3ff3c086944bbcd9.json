{"id":"B1T4","dependencies":[{"name":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\package.json","includedInParent":true,"mtime":1684389396229},{"name":"./../../App","loc":{"line":9,"column":16,"index":128},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\App.js"},{"name":"lit-html","loc":{"line":10,"column":28,"index":171},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\node_modules\\lit-html\\lit-html.js"},{"name":"../../services/AuthAPI","loc":{"line":11,"column":20,"index":203},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\AuthAPI.js"},{"name":"../../services/UserAPI","loc":{"line":12,"column":20,"index":249},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\UserAPI.js"},{"name":"../../services/ReviewAPI","loc":{"line":13,"column":22,"index":298},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\ReviewAPI.js"},{"name":"../../utils/enum.utils","loc":{"line":14,"column":22,"index":349},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\enum.utils.js"},{"name":"../../utils/pagination.utils","loc":{"line":15,"column":28,"index":404},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\restaurant.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\pagination.utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e,t,n,a,r=c(require(\"./../../App\")),s=require(\"lit-html\"),i=c(require(\"../../services/AuthAPI\")),l=c(require(\"../../services/UserAPI\")),u=c(require(\"../../services/ReviewAPI\")),o=c(require(\"../../utils/enum.utils\")),d=c(require(\"../../utils/pagination.utils\"));function c(e){return e&&e.__esModule?e:{default:e}}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class p{init(){document.title=\"Restaurant\",this.render(),this.loadData(),d.default.disableButton(\".prev-page-btn, .next-page-btn\")}async loadData(e){1!=e&&0!=e||(1==e?d.default.incrementPage():0==e&&d.default.decrementPage());const t=await u.default.getNumPages(i.default.currentRestaurant._id);d.default.updatePaginationButtons(t);const n=await u.default.getPage(this.currPage,i.default.currentRestaurant._id,o.default.accessLevels.restaurant);this.renderListings(n)}async renderListings(t){const n=[];for(const a of t){const t=await l.default.getRestaurantName(a.restaurantId);n.push((0,s.html)(e||(e=v([\"<review-listing restaurant_name=\",\" review=\",\"></review-listing>\"])),t.restaurantName,JSON.stringify(a)))}(0,s.render)(n,document.getElementById(\"reviews-container\"))}render(){const e=(0,s.html)(t||(t=v(['\\n\\n\\n\\n\\n\\n     <sl-dialog id=\"create-dialog\" label=\"Create Review\" class=\"dialog-overview\">\\n<review-form title=','></review-form>\\n</sl-dialog>   \\n\\n\\n      <app-header title=\"Restaurant\" user=\"','\"></app-header>\\n\\n      <div class=\"page-content\">\\n\\n      <restaurant-profile is_visitor=\"true\" restaurant=','></restaurant-profile>\\n\\n      <div id=\"reviews-section\">\\n\\n<div class=\"top\">\\n  <h2>Reviews</h2>\\n  ','\\n</div>\\n\\n<div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n\\n<div id=\"reviews-container\"></div>\\n\\n<div class=\"pagination\">\\n        <sl-button class=\"prev-page-btn\" @click=',' class=\"prev\">Previous</sl-button>\\n        <sl-button class=\"next-page-btn\" @click=',' class=\"next\">Next</sl-button>\\n      </div>\\n      </div>\\n\\n      </div>\\n\\n\\n      <app-footer title=',\"></app-footer>\\n    \"])),document.title,JSON.stringify(i.default.currentUser),JSON.stringify(i.default.currentRestaurant),\"1\"==i.default.currentUser.accessLevel?(0,s.html)(n||(n=v(['\\n        <sl-button class=\"create-review-btn\" @click=\"','\">Create Review</sl-button>  \\n        '])),()=>document.getElementById(\"create-dialog\").show()):(0,s.html)(a||(a=v([\"\\n        \"]))),()=>this.loadData(!1),()=>this.loadData(!0),()=>this.loadData(!1),()=>this.loadData(!0),document.title);(0,s.render)(e,r.default.rootEl)}}var f=new p;exports.default=f;"},"sourceMaps":{"js":{"mappings":[{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":0}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":13}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":20}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":35}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":43}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":56}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":57}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":64}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":68}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":76}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":35},"generated":{"line":1,"column":89}},{"source":"views/pages/restaurant.js","original":{"line":9,"column":0},"generated":{"line":1,"column":91}},{"source":"views/pages/restaurant.js","name":"_templateObject","original":{"line":15,"column":59},"generated":{"line":1,"column":95}},{"source":"views/pages/restaurant.js","name":"_templateObject2","original":{"line":15,"column":59},"generated":{"line":1,"column":97}},{"source":"views/pages/restaurant.js","name":"_templateObject3","original":{"line":15,"column":59},"generated":{"line":1,"column":99}},{"source":"views/pages/restaurant.js","name":"_templateObject4","original":{"line":15,"column":59},"generated":{"line":1,"column":101}},{"source":"views/pages/restaurant.js","name":"_App","original":{"line":9,"column":0},"generated":{"line":1,"column":103}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":9,"column":0},"generated":{"line":1,"column":105}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":9,"column":0},"generated":{"line":1,"column":107}},{"source":"views/pages/restaurant.js","original":{"line":9,"column":0},"generated":{"line":1,"column":115}},{"source":"views/pages/restaurant.js","name":"_litHtml","original":{"line":10,"column":0},"generated":{"line":1,"column":131}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":10,"column":0},"generated":{"line":1,"column":133}},{"source":"views/pages/restaurant.js","original":{"line":10,"column":0},"generated":{"line":1,"column":141}},{"source":"views/pages/restaurant.js","name":"_AuthAPI","original":{"line":11,"column":0},"generated":{"line":1,"column":153}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":11,"column":0},"generated":{"line":1,"column":155}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":11,"column":0},"generated":{"line":1,"column":157}},{"source":"views/pages/restaurant.js","original":{"line":11,"column":0},"generated":{"line":1,"column":165}},{"source":"views/pages/restaurant.js","name":"_UserAPI","original":{"line":12,"column":0},"generated":{"line":1,"column":192}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":12,"column":0},"generated":{"line":1,"column":194}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":12,"column":0},"generated":{"line":1,"column":196}},{"source":"views/pages/restaurant.js","original":{"line":12,"column":0},"generated":{"line":1,"column":204}},{"source":"views/pages/restaurant.js","name":"_ReviewAPI","original":{"line":13,"column":0},"generated":{"line":1,"column":231}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":13,"column":0},"generated":{"line":1,"column":233}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":13,"column":0},"generated":{"line":1,"column":235}},{"source":"views/pages/restaurant.js","original":{"line":13,"column":0},"generated":{"line":1,"column":243}},{"source":"views/pages/restaurant.js","name":"_enum","original":{"line":14,"column":0},"generated":{"line":1,"column":272}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":14,"column":0},"generated":{"line":1,"column":274}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":14,"column":0},"generated":{"line":1,"column":276}},{"source":"views/pages/restaurant.js","original":{"line":14,"column":0},"generated":{"line":1,"column":284}},{"source":"views/pages/restaurant.js","name":"_pagination","original":{"line":15,"column":0},"generated":{"line":1,"column":311}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":15,"column":0},"generated":{"line":1,"column":313}},{"source":"views/pages/restaurant.js","name":"require","original":{"line":15,"column":0},"generated":{"line":1,"column":315}},{"source":"views/pages/restaurant.js","original":{"line":15,"column":0},"generated":{"line":1,"column":323}},{"source":"views/pages/restaurant.js","original":{"line":15,"column":59},"generated":{"line":1,"column":356}},{"source":"views/pages/restaurant.js","name":"_interopRequireDefault","original":{"line":15,"column":59},"generated":{"line":1,"column":365}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":367}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":370}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":377}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":380}},{"source":"views/pages/restaurant.js","name":"__esModule","original":{"line":15,"column":59},"generated":{"line":1,"column":382}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":393}},{"source":"views/pages/restaurant.js","name":"default","original":{"line":15,"column":59},"generated":{"line":1,"column":395}},{"source":"views/pages/restaurant.js","name":"default","original":{"line":15,"column":59},"generated":{"line":1,"column":396}},{"source":"views/pages/restaurant.js","name":"obj","original":{"line":15,"column":59},"generated":{"line":1,"column":404}},{"source":"views/pages/restaurant.js","original":{"line":15,"column":59},"generated":{"line":1,"column":407}},{"source":"views/pages/restaurant.js","name":"_taggedTemplateLiteral","original":{"line":15,"column":59},"generated":{"line":1,"column":416}},{"source":"views/pages/restaurant.js","name":"strings","original":{"line":15,"column":59},"generated":{"line":1,"column":418}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":420}},{"source":"views/pages/restaurant.js","name":"Object","original":{"line":15,"column":59},"generated":{"line":1,"column":423}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":430}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":434}},{"source":"views/pages/restaurant.js","name":"strings","original":{"line":15,"column":59},"generated":{"line":1,"column":436}},{"source":"views/pages/restaurant.js","name":"slice","original":{"line":15,"column":59},"generated":{"line":1,"column":438}},{"source":"views/pages/restaurant.js","name":"Object","original":{"line":15,"column":59},"generated":{"line":1,"column":444}},{"source":"views/pages/restaurant.js","name":"Object","original":{"line":15,"column":59},"generated":{"line":1,"column":448}},{"source":"views/pages/restaurant.js","name":"freeze","original":{"line":15,"column":59},"generated":{"line":1,"column":455}},{"source":"views/pages/restaurant.js","name":"Object","original":{"line":15,"column":59},"generated":{"line":1,"column":462}},{"source":"views/pages/restaurant.js","name":"defineProperties","original":{"line":15,"column":59},"generated":{"line":1,"column":469}},{"source":"views/pages/restaurant.js","name":"strings","original":{"line":15,"column":59},"generated":{"line":1,"column":486}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":488}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":489}},{"source":"views/pages/restaurant.js","name":"value","original":{"line":15,"column":59},"generated":{"line":1,"column":493}},{"source":"views/pages/restaurant.js","name":"value","original":{"line":15,"column":59},"generated":{"line":1,"column":494}},{"source":"views/pages/restaurant.js","name":"Object","original":{"line":15,"column":59},"generated":{"line":1,"column":500}},{"source":"views/pages/restaurant.js","name":"freeze","original":{"line":15,"column":59},"generated":{"line":1,"column":507}},{"source":"views/pages/restaurant.js","name":"raw","original":{"line":15,"column":59},"generated":{"line":1,"column":514}},{"source":"views/pages/restaurant.js","original":{"line":19,"column":0},"generated":{"line":1,"column":521}},{"source":"views/pages/restaurant.js","name":"RestaurantView","original":{"line":19,"column":6},"generated":{"line":1,"column":527}},{"source":"views/pages/restaurant.js","name":"init","original":{"line":25,"column":2},"generated":{"line":1,"column":529}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":26,"column":4},"generated":{"line":1,"column":536}},{"source":"views/pages/restaurant.js","name":"title","original":{"line":26,"column":13},"generated":{"line":1,"column":545}},{"source":"views/pages/restaurant.js","original":{"line":26,"column":21},"generated":{"line":1,"column":551}},{"source":"views/pages/restaurant.js","original":{"line":27,"column":4},"generated":{"line":1,"column":564}},{"source":"views/pages/restaurant.js","name":"render","original":{"line":27,"column":9},"generated":{"line":1,"column":569}},{"source":"views/pages/restaurant.js","original":{"line":28,"column":4},"generated":{"line":1,"column":578}},{"source":"views/pages/restaurant.js","name":"loadData","original":{"line":28,"column":9},"generated":{"line":1,"column":583}},{"source":"views/pages/restaurant.js","name":"paginationUtils","original":{"line":29,"column":4},"generated":{"line":1,"column":594}},{"source":"views/pages/restaurant.js","original":{"line":29,"column":19},"generated":{"line":1,"column":596}},{"source":"views/pages/restaurant.js","name":"disableButton","original":{"line":29,"column":20},"generated":{"line":1,"column":604}},{"source":"views/pages/restaurant.js","original":{"line":29,"column":34},"generated":{"line":1,"column":618}},{"source":"views/pages/restaurant.js","original":{"line":38,"column":0},"generated":{"line":1,"column":652}},{"source":"views/pages/restaurant.js","name":"isNextPage","original":{"line":38,"column":15},"generated":{"line":1,"column":667}},{"source":"views/pages/restaurant.js","original":{"line":40,"column":20},"generated":{"line":1,"column":670}},{"source":"views/pages/restaurant.js","name":"isNextPage","original":{"line":40,"column":6},"generated":{"line":1,"column":673}},{"source":"views/pages/restaurant.js","original":{"line":40,"column":42},"generated":{"line":1,"column":676}},{"source":"views/pages/restaurant.js","name":"isNextPage","original":{"line":40,"column":28},"generated":{"line":1,"column":679}},{"source":"views/pages/restaurant.js","original":{"line":42,"column":24},"generated":{"line":1,"column":683}},{"source":"views/pages/restaurant.js","name":"isNextPage","original":{"line":42,"column":10},"generated":{"line":1,"column":686}},{"source":"views/pages/restaurant.js","name":"paginationUtils","original":{"line":43,"column":8},"generated":{"line":1,"column":688}},{"source":"views/pages/restaurant.js","original":{"line":43,"column":23},"generated":{"line":1,"column":690}},{"source":"views/pages/restaurant.js","name":"incrementPage","original":{"line":43,"column":24},"generated":{"line":1,"column":698}},{"source":"views/pages/restaurant.js","original":{"line":46,"column":33},"generated":{"line":1,"column":714}},{"source":"views/pages/restaurant.js","name":"isNextPage","original":{"line":46,"column":19},"generated":{"line":1,"column":717}},{"source":"views/pages/restaurant.js","name":"paginationUtils","original":{"line":47,"column":13},"generated":{"line":1,"column":720}},{"source":"views/pages/restaurant.js","original":{"line":47,"column":28},"generated":{"line":1,"column":722}},{"source":"views/pages/restaurant.js","name":"decrementPage","original":{"line":47,"column":29},"generated":{"line":1,"column":730}},{"source":"views/pages/restaurant.js","original":{"line":52,"column":3},"generated":{"line":1,"column":747}},{"source":"views/pages/restaurant.js","name":"numPages","original":{"line":52,"column":9},"generated":{"line":1,"column":753}},{"source":"views/pages/restaurant.js","name":"ReviewAPI","original":{"line":52,"column":26},"generated":{"line":1,"column":761}},{"source":"views/pages/restaurant.js","original":{"line":52,"column":35},"generated":{"line":1,"column":763}},{"source":"views/pages/restaurant.js","name":"getNumPages","original":{"line":52,"column":36},"generated":{"line":1,"column":771}},{"source":"views/pages/restaurant.js","name":"AuthAPI","original":{"line":52,"column":48},"generated":{"line":1,"column":783}},{"source":"views/pages/restaurant.js","original":{"line":52,"column":55},"generated":{"line":1,"column":785}},{"source":"views/pages/restaurant.js","name":"currentRestaurant","original":{"line":52,"column":56},"generated":{"line":1,"column":793}},{"source":"views/pages/restaurant.js","name":"_id","original":{"line":52,"column":74},"generated":{"line":1,"column":811}},{"source":"views/pages/restaurant.js","name":"paginationUtils","original":{"line":55,"column":2},"generated":{"line":1,"column":816}},{"source":"views/pages/restaurant.js","original":{"line":55,"column":17},"generated":{"line":1,"column":818}},{"source":"views/pages/restaurant.js","name":"updatePaginationButtons","original":{"line":55,"column":18},"generated":{"line":1,"column":826}},{"source":"views/pages/restaurant.js","name":"numPages","original":{"line":55,"column":42},"generated":{"line":1,"column":850}},{"source":"views/pages/restaurant.js","original":{"line":58,"column":6},"generated":{"line":1,"column":853}},{"source":"views/pages/restaurant.js","name":"data","original":{"line":58,"column":12},"generated":{"line":1,"column":859}},{"source":"views/pages/restaurant.js","name":"ReviewAPI","original":{"line":58,"column":25},"generated":{"line":1,"column":867}},{"source":"views/pages/restaurant.js","original":{"line":58,"column":34},"generated":{"line":1,"column":869}},{"source":"views/pages/restaurant.js","name":"getPage","original":{"line":58,"column":35},"generated":{"line":1,"column":877}},{"source":"views/pages/restaurant.js","original":{"line":58,"column":43},"generated":{"line":1,"column":885}},{"source":"views/pages/restaurant.js","name":"currPage","original":{"line":58,"column":48},"generated":{"line":1,"column":890}},{"source":"views/pages/restaurant.js","name":"AuthAPI","original":{"line":58,"column":58},"generated":{"line":1,"column":899}},{"source":"views/pages/restaurant.js","original":{"line":58,"column":65},"generated":{"line":1,"column":901}},{"source":"views/pages/restaurant.js","name":"currentRestaurant","original":{"line":58,"column":66},"generated":{"line":1,"column":909}},{"source":"views/pages/restaurant.js","name":"_id","original":{"line":58,"column":84},"generated":{"line":1,"column":927}},{"source":"views/pages/restaurant.js","name":"enumUtils","original":{"line":58,"column":89},"generated":{"line":1,"column":931}},{"source":"views/pages/restaurant.js","original":{"line":58,"column":98},"generated":{"line":1,"column":933}},{"source":"views/pages/restaurant.js","name":"accessLevels","original":{"line":58,"column":99},"generated":{"line":1,"column":941}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":58,"column":112},"generated":{"line":1,"column":954}},{"source":"views/pages/restaurant.js","original":{"line":60,"column":6},"generated":{"line":1,"column":966}},{"source":"views/pages/restaurant.js","name":"renderListings","original":{"line":60,"column":11},"generated":{"line":1,"column":971}},{"source":"views/pages/restaurant.js","name":"data","original":{"line":60,"column":26},"generated":{"line":1,"column":986}},{"source":"views/pages/restaurant.js","original":{"line":69,"column":0},"generated":{"line":1,"column":989}},{"source":"views/pages/restaurant.js","name":"data","original":{"line":69,"column":21},"generated":{"line":1,"column":1010}},{"source":"views/pages/restaurant.js","original":{"line":71,"column":2},"generated":{"line":1,"column":1013}},{"source":"views/pages/restaurant.js","name":"listingTemplates","original":{"line":71,"column":8},"generated":{"line":1,"column":1019}},{"source":"views/pages/restaurant.js","original":{"line":71,"column":27},"generated":{"line":1,"column":1021}},{"source":"views/pages/restaurant.js","original":{"line":72,"column":2},"generated":{"line":1,"column":1024}},{"source":"views/pages/restaurant.js","original":{"line":72,"column":7},"generated":{"line":1,"column":1028}},{"source":"views/pages/restaurant.js","name":"item","original":{"line":72,"column":13},"generated":{"line":1,"column":1034}},{"source":"views/pages/restaurant.js","name":"data","original":{"line":72,"column":21},"generated":{"line":1,"column":1039}},{"source":"views/pages/restaurant.js","original":{"line":72,"column":27},"generated":{"line":1,"column":1041}},{"source":"views/pages/restaurant.js","original":{"line":73,"column":4},"generated":{"line":1,"column":1042}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":73,"column":10},"generated":{"line":1,"column":1048}},{"source":"views/pages/restaurant.js","name":"UserAPI","original":{"line":73,"column":29},"generated":{"line":1,"column":1056}},{"source":"views/pages/restaurant.js","original":{"line":73,"column":36},"generated":{"line":1,"column":1058}},{"source":"views/pages/restaurant.js","name":"getRestaurantName","original":{"line":73,"column":37},"generated":{"line":1,"column":1066}},{"source":"views/pages/restaurant.js","name":"item","original":{"line":73,"column":55},"generated":{"line":1,"column":1084}},{"source":"views/pages/restaurant.js","name":"restaurantId","original":{"line":73,"column":60},"generated":{"line":1,"column":1086}},{"source":"views/pages/restaurant.js","name":"listingTemplates","original":{"line":75,"column":4},"generated":{"line":1,"column":1100}},{"source":"views/pages/restaurant.js","name":"push","original":{"line":75,"column":21},"generated":{"line":1,"column":1102}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":75,"column":26},"generated":{"line":1,"column":1108}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":75,"column":26},"generated":{"line":1,"column":1110}},{"source":"views/pages/restaurant.js","original":{"line":75,"column":30},"generated":{"line":1,"column":1112}},{"source":"views/pages/restaurant.js","name":"_templateObject","original":{"line":75,"column":30},"generated":{"line":1,"column":1118}},{"source":"views/pages/restaurant.js","name":"_templateObject","original":{"line":75,"column":30},"generated":{"line":1,"column":1122}},{"source":"views/pages/restaurant.js","name":"_taggedTemplateLiteral","original":{"line":75,"column":30},"generated":{"line":1,"column":1124}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":75,"column":65},"generated":{"line":1,"column":1126}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":75,"column":65},"generated":{"line":1,"column":1127}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":75,"column":65},"generated":{"line":1,"column":1162}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":75,"column":65},"generated":{"line":1,"column":1173}},{"source":"views/pages/restaurant.js","name":"restaurant","original":{"line":75,"column":65},"generated":{"line":1,"column":1197}},{"source":"views/pages/restaurant.js","name":"restaurantName","original":{"line":75,"column":76},"generated":{"line":1,"column":1199}},{"source":"views/pages/restaurant.js","name":"JSON","original":{"line":75,"column":101},"generated":{"line":1,"column":1214}},{"source":"views/pages/restaurant.js","name":"stringify","original":{"line":75,"column":106},"generated":{"line":1,"column":1219}},{"source":"views/pages/restaurant.js","name":"item","original":{"line":75,"column":116},"generated":{"line":1,"column":1229}},{"source":"views/pages/restaurant.js","original":{"line":79,"column":0},"generated":{"line":1,"column":1235}},{"source":"views/pages/restaurant.js","name":"render","original":{"line":79,"column":0},"generated":{"line":1,"column":1237}},{"source":"views/pages/restaurant.js","original":{"line":79,"column":6},"generated":{"line":1,"column":1239}},{"source":"views/pages/restaurant.js","name":"listingTemplates","original":{"line":79,"column":7},"generated":{"line":1,"column":1247}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":79,"column":25},"generated":{"line":1,"column":1249}},{"source":"views/pages/restaurant.js","name":"getElementById","original":{"line":79,"column":34},"generated":{"line":1,"column":1258}},{"source":"views/pages/restaurant.js","original":{"line":79,"column":49},"generated":{"line":1,"column":1273}},{"source":"views/pages/restaurant.js","name":"render","original":{"line":86,"column":2},"generated":{"line":1,"column":1295}},{"source":"views/pages/restaurant.js","original":{"line":88,"column":4},"generated":{"line":1,"column":1304}},{"source":"views/pages/restaurant.js","name":"template","original":{"line":88,"column":10},"generated":{"line":1,"column":1310}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":88,"column":21},"generated":{"line":1,"column":1313}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":88,"column":21},"generated":{"line":1,"column":1315}},{"source":"views/pages/restaurant.js","original":{"line":88,"column":25},"generated":{"line":1,"column":1317}},{"source":"views/pages/restaurant.js","name":"_templateObject2","original":{"line":88,"column":25},"generated":{"line":1,"column":1323}},{"source":"views/pages/restaurant.js","name":"_templateObject2","original":{"line":88,"column":25},"generated":{"line":1,"column":1327}},{"source":"views/pages/restaurant.js","name":"_taggedTemplateLiteral","original":{"line":88,"column":25},"generated":{"line":1,"column":1329}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1331}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1332}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1449}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1533}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1646}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1752}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1841}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":1928}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":2091}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":2178}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":2285}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":95,"column":21},"generated":{"line":1,"column":2311}},{"source":"views/pages/restaurant.js","name":"title","original":{"line":95,"column":30},"generated":{"line":1,"column":2320}},{"source":"views/pages/restaurant.js","name":"JSON","original":{"line":99,"column":45},"generated":{"line":1,"column":2326}},{"source":"views/pages/restaurant.js","name":"stringify","original":{"line":99,"column":50},"generated":{"line":1,"column":2331}},{"source":"views/pages/restaurant.js","name":"AuthAPI","original":{"line":99,"column":60},"generated":{"line":1,"column":2341}},{"source":"views/pages/restaurant.js","original":{"line":99,"column":67},"generated":{"line":1,"column":2343}},{"source":"views/pages/restaurant.js","name":"currentUser","original":{"line":99,"column":68},"generated":{"line":1,"column":2351}},{"source":"views/pages/restaurant.js","name":"JSON","original":{"line":103,"column":57},"generated":{"line":1,"column":2364}},{"source":"views/pages/restaurant.js","name":"stringify","original":{"line":103,"column":62},"generated":{"line":1,"column":2369}},{"source":"views/pages/restaurant.js","name":"AuthAPI","original":{"line":103,"column":72},"generated":{"line":1,"column":2379}},{"source":"views/pages/restaurant.js","original":{"line":103,"column":79},"generated":{"line":1,"column":2381}},{"source":"views/pages/restaurant.js","name":"currentRestaurant","original":{"line":103,"column":80},"generated":{"line":1,"column":2389}},{"source":"views/pages/restaurant.js","original":{"line":109,"column":40},"generated":{"line":1,"column":2408}},{"source":"views/pages/restaurant.js","name":"AuthAPI","original":{"line":109,"column":5},"generated":{"line":1,"column":2413}},{"source":"views/pages/restaurant.js","original":{"line":109,"column":12},"generated":{"line":1,"column":2415}},{"source":"views/pages/restaurant.js","name":"currentUser","original":{"line":109,"column":13},"generated":{"line":1,"column":2423}},{"source":"views/pages/restaurant.js","name":"accessLevel","original":{"line":109,"column":25},"generated":{"line":1,"column":2435}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":109,"column":47},"generated":{"line":1,"column":2448}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":109,"column":47},"generated":{"line":1,"column":2450}},{"source":"views/pages/restaurant.js","original":{"line":109,"column":51},"generated":{"line":1,"column":2452}},{"source":"views/pages/restaurant.js","name":"_templateObject3","original":{"line":109,"column":51},"generated":{"line":1,"column":2458}},{"source":"views/pages/restaurant.js","name":"_templateObject3","original":{"line":109,"column":51},"generated":{"line":1,"column":2462}},{"source":"views/pages/restaurant.js","name":"_taggedTemplateLiteral","original":{"line":109,"column":51},"generated":{"line":1,"column":2464}},{"source":"views/pages/restaurant.js","original":{"line":110,"column":55},"generated":{"line":1,"column":2466}},{"source":"views/pages/restaurant.js","original":{"line":110,"column":55},"generated":{"line":1,"column":2467}},{"source":"views/pages/restaurant.js","original":{"line":110,"column":55},"generated":{"line":1,"column":2525}},{"source":"views/pages/restaurant.js","original":{"line":110,"column":55},"generated":{"line":1,"column":2570}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":110,"column":61},"generated":{"line":1,"column":2574}},{"source":"views/pages/restaurant.js","name":"getElementById","original":{"line":110,"column":70},"generated":{"line":1,"column":2583}},{"source":"views/pages/restaurant.js","original":{"line":110,"column":85},"generated":{"line":1,"column":2598}},{"source":"views/pages/restaurant.js","name":"show","original":{"line":110,"column":102},"generated":{"line":1,"column":2615}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":111,"column":10},"generated":{"line":1,"column":2624}},{"source":"views/pages/restaurant.js","name":"html","original":{"line":111,"column":10},"generated":{"line":1,"column":2626}},{"source":"views/pages/restaurant.js","original":{"line":111,"column":14},"generated":{"line":1,"column":2628}},{"source":"views/pages/restaurant.js","name":"_templateObject4","original":{"line":111,"column":14},"generated":{"line":1,"column":2634}},{"source":"views/pages/restaurant.js","name":"_templateObject4","original":{"line":111,"column":14},"generated":{"line":1,"column":2638}},{"source":"views/pages/restaurant.js","name":"_taggedTemplateLiteral","original":{"line":111,"column":14},"generated":{"line":1,"column":2640}},{"source":"views/pages/restaurant.js","original":{"line":112,"column":9},"generated":{"line":1,"column":2642}},{"source":"views/pages/restaurant.js","original":{"line":112,"column":9},"generated":{"line":1,"column":2643}},{"source":"views/pages/restaurant.js","original":{"line":116,"column":50},"generated":{"line":1,"column":2660}},{"source":"views/pages/restaurant.js","original":{"line":116,"column":55},"generated":{"line":1,"column":2664}},{"source":"views/pages/restaurant.js","name":"loadData","original":{"line":116,"column":60},"generated":{"line":1,"column":2669}},{"source":"views/pages/restaurant.js","original":{"line":116,"column":69},"generated":{"line":1,"column":2679}},{"source":"views/pages/restaurant.js","original":{"line":117,"column":50},"generated":{"line":1,"column":2682}},{"source":"views/pages/restaurant.js","original":{"line":117,"column":55},"generated":{"line":1,"column":2686}},{"source":"views/pages/restaurant.js","name":"loadData","original":{"line":117,"column":60},"generated":{"line":1,"column":2691}},{"source":"views/pages/restaurant.js","original":{"line":117,"column":69},"generated":{"line":1,"column":2701}},{"source":"views/pages/restaurant.js","original":{"line":123,"column":50},"generated":{"line":1,"column":2704}},{"source":"views/pages/restaurant.js","original":{"line":123,"column":55},"generated":{"line":1,"column":2708}},{"source":"views/pages/restaurant.js","name":"loadData","original":{"line":123,"column":60},"generated":{"line":1,"column":2713}},{"source":"views/pages/restaurant.js","original":{"line":123,"column":69},"generated":{"line":1,"column":2723}},{"source":"views/pages/restaurant.js","original":{"line":124,"column":50},"generated":{"line":1,"column":2726}},{"source":"views/pages/restaurant.js","original":{"line":124,"column":55},"generated":{"line":1,"column":2730}},{"source":"views/pages/restaurant.js","name":"loadData","original":{"line":124,"column":60},"generated":{"line":1,"column":2735}},{"source":"views/pages/restaurant.js","original":{"line":124,"column":69},"generated":{"line":1,"column":2745}},{"source":"views/pages/restaurant.js","name":"document","original":{"line":131,"column":26},"generated":{"line":1,"column":2748}},{"source":"views/pages/restaurant.js","name":"title","original":{"line":131,"column":35},"generated":{"line":1,"column":2757}},{"source":"views/pages/restaurant.js","original":{"line":134,"column":4},"generated":{"line":1,"column":2765}},{"source":"views/pages/restaurant.js","name":"render","original":{"line":134,"column":4},"generated":{"line":1,"column":2767}},{"source":"views/pages/restaurant.js","original":{"line":134,"column":10},"generated":{"line":1,"column":2769}},{"source":"views/pages/restaurant.js","name":"template","original":{"line":134,"column":11},"generated":{"line":1,"column":2777}},{"source":"views/pages/restaurant.js","name":"App","original":{"line":134,"column":21},"generated":{"line":1,"column":2779}},{"source":"views/pages/restaurant.js","original":{"line":134,"column":24},"generated":{"line":1,"column":2781}},{"source":"views/pages/restaurant.js","name":"rootEl","original":{"line":134,"column":25},"generated":{"line":1,"column":2789}},{"source":"views/pages/restaurant.js","original":{"line":140,"column":0},"generated":{"line":1,"column":2798}},{"source":"views/pages/restaurant.js","name":"_default","original":{"line":140,"column":0},"generated":{"line":1,"column":2802}},{"source":"views/pages/restaurant.js","original":{"line":141,"column":15},"generated":{"line":1,"column":2804}},{"source":"views/pages/restaurant.js","name":"RestaurantView","original":{"line":141,"column":19},"generated":{"line":1,"column":2808}},{"source":"views/pages/restaurant.js","name":"exports","original":{"line":141,"column":35},"generated":{"line":1,"column":2810}},{"source":"views/pages/restaurant.js","name":"default","original":{"line":141,"column":35},"generated":{"line":1,"column":2818}},{"source":"views/pages/restaurant.js","name":"_default","original":{"line":141,"column":35},"generated":{"line":1,"column":2826}}],"sources":{"views/pages/restaurant.js":"/**\r\n * Restaurant view\r\n * \r\n * Author: Ryan Riddiford\r\n * Student ID: 20862086\r\n */\r\n\r\n//Import dependencies\r\nimport App from './../../App'\r\nimport {html, render } from 'lit-html'\r\nimport AuthAPI from '../../services/AuthAPI'\r\nimport UserAPI from '../../services/UserAPI';\r\nimport ReviewAPI from '../../services/ReviewAPI';\r\nimport enumUtils from '../../utils/enum.utils';\r\nimport paginationUtils from '../../utils/pagination.utils';\r\n\r\n\r\n//Renders restaurant view for other users\r\nclass RestaurantView {\r\n\r\n\r\n  /**\r\n   * Initialise\r\n   */\r\n  init(){\r\n    document.title = 'Restaurant';   \r\n    this.render();  \r\n    this.loadData();  \r\n    paginationUtils.disableButton('.prev-page-btn, .next-page-btn');\r\n  }\r\n\r\n\r\n\r\n/**\r\n * Load a page of data\r\n * @param {*} isNextPage \r\n */\r\nasync loadData(isNextPage) {\r\n  //If loading a subsequent page\r\n  if (isNextPage == true || isNextPage == false) {\r\n      //Increment for next page\r\n      if (isNextPage == true) {   \r\n        paginationUtils.incrementPage();\r\n          }\r\n          //Decrement for previous page\r\n          else if (isNextPage == false) {  \r\n             paginationUtils.decrementPage();\r\n          }\r\n  }\r\n\r\n  //Find number of pages\r\n   const numPages = await ReviewAPI.getNumPages(AuthAPI.currentRestaurant._id);\r\n\r\n  //Disable/enable pagination buttons\r\n  paginationUtils.updatePaginationButtons(numPages);\r\n\r\n      //Get page of data\r\n      const data = await ReviewAPI.getPage(this.currPage, AuthAPI.currentRestaurant._id, enumUtils.accessLevels.restaurant);           \r\n      //Render data listing array to container element\r\n      this.renderListings(data);\r\n\r\n}\r\n\r\n\r\n/**\r\n * Render the data listings to container element\r\n * @param {*} data array of data to render listings with\r\n */\r\nasync renderListings(data) {\r\n  //Build template array of review listings\r\n  const listingTemplates = [];\r\n  for (const item of data) {\r\n    const restaurant = await UserAPI.getRestaurantName(item.restaurantId);\r\n\r\n    listingTemplates.push(html`<review-listing restaurant_name=${restaurant.restaurantName} review=${JSON.stringify(item)}></review-listing>`);\r\n  }\r\n\r\n  //Render review listing template array to reviews container\r\nrender(listingTemplates, document.getElementById(\"reviews-container\"));\r\n}\r\n\r\n\r\n  /**\r\n   * Renders the restaurant page\r\n   */\r\n  render() {\r\n\r\n    const template = html`\r\n\r\n\r\n\r\n\r\n\r\n     <sl-dialog id=\"create-dialog\" label=\"Create Review\" class=\"dialog-overview\">\r\n<review-form title=${document.title}></review-form>\r\n</sl-dialog>   \r\n\r\n\r\n      <app-header title=\"Restaurant\" user=\"${JSON.stringify(AuthAPI.currentUser)}\"></app-header>\r\n\r\n      <div class=\"page-content\">\r\n\r\n      <restaurant-profile is_visitor=\"true\" restaurant=${JSON.stringify(AuthAPI.currentRestaurant)}></restaurant-profile>\r\n\r\n      <div id=\"reviews-section\">\r\n\r\n<div class=\"top\">\r\n  <h2>Reviews</h2>\r\n  ${(AuthAPI.currentUser.accessLevel == \"1\") ? html`\r\n        <sl-button class=\"create-review-btn\" @click=\"${() => document.getElementById('create-dialog').show()}\">Create Review</sl-button>  \r\n        `:html`\r\n        `}\r\n</div>\r\n\r\n<div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> this.loadData(false)} class=\"prev\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n\r\n<div id=\"reviews-container\"></div>\r\n\r\n<div class=\"pagination\">\r\n        <sl-button class=\"prev-page-btn\" @click=${()=> this.loadData(false)} class=\"prev\">Previous</sl-button>\r\n        <sl-button class=\"next-page-btn\" @click=${()=> this.loadData(true)} class=\"next\">Next</sl-button>\r\n      </div>\r\n      </div>\r\n\r\n      </div>\r\n\r\n\r\n      <app-footer title=${document.title}></app-footer>\r\n    `\r\n\r\n    render(template, App.rootEl);\r\n  }\r\n\r\n}\r\n\r\n\r\n//Export the view\r\nexport default new RestaurantView();"},"lineCount":null}},"error":null,"hash":"6caab5d8fe01b6a7426e61d9ae626aa5","cacheData":{"env":{}}}