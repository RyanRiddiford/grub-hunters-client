{"id":"UX9w","dependencies":[{"name":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\package.json","includedInParent":true,"mtime":1684389396229},{"name":"./../../App","loc":{"line":8,"column":16,"index":102},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\profile.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\App.js"},{"name":"lit-html","loc":{"line":9,"column":28,"index":146},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\profile.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\node_modules\\lit-html\\lit-html.js"},{"name":"../../services/AuthAPI","loc":{"line":10,"column":20,"index":179},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\profile.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\AuthAPI.js"},{"name":"../../services/UserAPI","loc":{"line":11,"column":20,"index":226},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\profile.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\services\\UserAPI.js"},{"name":"../../utils/enum.utils","loc":{"line":12,"column":22,"index":275},"parent":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\views\\pages\\profile.js","resolved":"H:\\Bachelor Of Info Tech\\UX Major Project 1\\a3\\repo\\frontend\\src\\utils\\enum.utils.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e,t,r,n,s=o(require(\"./../../App\")),a=require(\"lit-html\"),i=o(require(\"../../services/AuthAPI\")),l=o(require(\"../../services/UserAPI\")),u=o(require(\"../../utils/enum.utils\"));function o(e){return e&&e.__esModule?e:{default:e}}function d(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}class c{init(){document.title=\"Profile\",this.render(),this.showWarning()}showWarning(){if(i.default.currentUser.accessLevel!=u.default.accessLevels.administrator&&i.default.currentUser.warningStatus){document.getElementById(\"warning-dialog\").show()}}async warningReceived(e){e.preventDefault();let t=document.getElementById(\"warning-dialog\");try{const e=await l.default.updateById(i.default.currentUser._id,JSON.stringify({warningStatus:!1}),!0);delete e.password,i.default.currentUser=e,i.default.currentUser=e}catch(r){console.log(r)}t.hide()}render(){let l;i.default.currentUser.accessLevel==u.default.accessLevels.reviewer?l=(0,a.html)(e||(e=d([\"<reviewer-profile></reviewer-profile>\"]))):i.default.currentUser.accessLevel==u.default.accessLevels.restaurant?(console.log(\"should be false\"),l=(0,a.html)(t||(t=d([\"<restaurant-profile restaurant=\",' is_visitor=\"false\"></restaurant-profile>'])),JSON.stringify(i.default.currentUser))):i.default.currentUser.accessLevel==u.default.accessLevels.administrator&&(l=(0,a.html)(r||(r=d([\"<admin-profile></admin-profile>\"]))));const o=(0,a.html)(n||(n=d(['\\n\\n<sl-dialog id=\"warning-dialog\" label=\"Confirmation\" class=\"dialog-overview\">\\n   <span>Your account has received a demerit point. A second demerit point will lead to a 1 week suspension. A third demerit point will lead to a permanent account ban!</span>\\n  <sl-form @sl-submit=','>\\n<input type=\"hidden\" value=',' name=\"warningStatus\">\\n<sl-button id=\"warning-btn\" type=\"primary\" class=\"submit-btn\" slot=\"footer\" submit>Ok</sl-button>\\n  </sl-form>\\n \\n</sl-dialog>\\n\\n           <app-header title=',' user=\"','\"></app-header>\\n\\n           <div class=\"page-content\">\\n             ',\"\\n           </div>\\n           \\n           <app-footer title=\",\"></app-footer>\\n         \"])),this.warningReceived.bind(this),!1,document.title,JSON.stringify(i.default.currentUser),l,document.title);(0,a.render)(o,s.default.rootEl)}}var f=new c;exports.default=f;"},"sourceMaps":{"js":{"mappings":[{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":0}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":13}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":20}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":35}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":43}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":56}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":57}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":64}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":68}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":76}},{"source":"views/pages/profile.js","original":{"line":114,"column":32},"generated":{"line":1,"column":89}},{"source":"views/pages/profile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":91}},{"source":"views/pages/profile.js","name":"_templateObject","original":{"line":12,"column":47},"generated":{"line":1,"column":95}},{"source":"views/pages/profile.js","name":"_templateObject2","original":{"line":12,"column":47},"generated":{"line":1,"column":97}},{"source":"views/pages/profile.js","name":"_templateObject3","original":{"line":12,"column":47},"generated":{"line":1,"column":99}},{"source":"views/pages/profile.js","name":"_templateObject4","original":{"line":12,"column":47},"generated":{"line":1,"column":101}},{"source":"views/pages/profile.js","name":"_App","original":{"line":8,"column":0},"generated":{"line":1,"column":103}},{"source":"views/pages/profile.js","name":"_interopRequireDefault","original":{"line":8,"column":0},"generated":{"line":1,"column":105}},{"source":"views/pages/profile.js","name":"require","original":{"line":8,"column":0},"generated":{"line":1,"column":107}},{"source":"views/pages/profile.js","original":{"line":8,"column":0},"generated":{"line":1,"column":115}},{"source":"views/pages/profile.js","name":"_litHtml","original":{"line":9,"column":0},"generated":{"line":1,"column":131}},{"source":"views/pages/profile.js","name":"require","original":{"line":9,"column":0},"generated":{"line":1,"column":133}},{"source":"views/pages/profile.js","original":{"line":9,"column":0},"generated":{"line":1,"column":141}},{"source":"views/pages/profile.js","name":"_AuthAPI","original":{"line":10,"column":0},"generated":{"line":1,"column":153}},{"source":"views/pages/profile.js","name":"_interopRequireDefault","original":{"line":10,"column":0},"generated":{"line":1,"column":155}},{"source":"views/pages/profile.js","name":"require","original":{"line":10,"column":0},"generated":{"line":1,"column":157}},{"source":"views/pages/profile.js","original":{"line":10,"column":0},"generated":{"line":1,"column":165}},{"source":"views/pages/profile.js","name":"_UserAPI","original":{"line":11,"column":0},"generated":{"line":1,"column":192}},{"source":"views/pages/profile.js","name":"_interopRequireDefault","original":{"line":11,"column":0},"generated":{"line":1,"column":194}},{"source":"views/pages/profile.js","name":"require","original":{"line":11,"column":0},"generated":{"line":1,"column":196}},{"source":"views/pages/profile.js","original":{"line":11,"column":0},"generated":{"line":1,"column":204}},{"source":"views/pages/profile.js","name":"_enum","original":{"line":12,"column":0},"generated":{"line":1,"column":231}},{"source":"views/pages/profile.js","name":"_interopRequireDefault","original":{"line":12,"column":0},"generated":{"line":1,"column":233}},{"source":"views/pages/profile.js","name":"require","original":{"line":12,"column":0},"generated":{"line":1,"column":235}},{"source":"views/pages/profile.js","original":{"line":12,"column":0},"generated":{"line":1,"column":243}},{"source":"views/pages/profile.js","original":{"line":12,"column":47},"generated":{"line":1,"column":270}},{"source":"views/pages/profile.js","name":"_interopRequireDefault","original":{"line":12,"column":47},"generated":{"line":1,"column":279}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":281}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":284}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":291}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":294}},{"source":"views/pages/profile.js","name":"__esModule","original":{"line":12,"column":47},"generated":{"line":1,"column":296}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":307}},{"source":"views/pages/profile.js","name":"default","original":{"line":12,"column":47},"generated":{"line":1,"column":309}},{"source":"views/pages/profile.js","name":"default","original":{"line":12,"column":47},"generated":{"line":1,"column":310}},{"source":"views/pages/profile.js","name":"obj","original":{"line":12,"column":47},"generated":{"line":1,"column":318}},{"source":"views/pages/profile.js","original":{"line":12,"column":47},"generated":{"line":1,"column":321}},{"source":"views/pages/profile.js","name":"_taggedTemplateLiteral","original":{"line":12,"column":47},"generated":{"line":1,"column":330}},{"source":"views/pages/profile.js","name":"strings","original":{"line":12,"column":47},"generated":{"line":1,"column":332}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":334}},{"source":"views/pages/profile.js","name":"Object","original":{"line":12,"column":47},"generated":{"line":1,"column":337}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":344}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":348}},{"source":"views/pages/profile.js","name":"strings","original":{"line":12,"column":47},"generated":{"line":1,"column":350}},{"source":"views/pages/profile.js","name":"slice","original":{"line":12,"column":47},"generated":{"line":1,"column":352}},{"source":"views/pages/profile.js","name":"Object","original":{"line":12,"column":47},"generated":{"line":1,"column":358}},{"source":"views/pages/profile.js","name":"Object","original":{"line":12,"column":47},"generated":{"line":1,"column":362}},{"source":"views/pages/profile.js","name":"freeze","original":{"line":12,"column":47},"generated":{"line":1,"column":369}},{"source":"views/pages/profile.js","name":"Object","original":{"line":12,"column":47},"generated":{"line":1,"column":376}},{"source":"views/pages/profile.js","name":"defineProperties","original":{"line":12,"column":47},"generated":{"line":1,"column":383}},{"source":"views/pages/profile.js","name":"strings","original":{"line":12,"column":47},"generated":{"line":1,"column":400}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":402}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":403}},{"source":"views/pages/profile.js","name":"value","original":{"line":12,"column":47},"generated":{"line":1,"column":407}},{"source":"views/pages/profile.js","name":"value","original":{"line":12,"column":47},"generated":{"line":1,"column":408}},{"source":"views/pages/profile.js","name":"Object","original":{"line":12,"column":47},"generated":{"line":1,"column":414}},{"source":"views/pages/profile.js","name":"freeze","original":{"line":12,"column":47},"generated":{"line":1,"column":421}},{"source":"views/pages/profile.js","name":"raw","original":{"line":12,"column":47},"generated":{"line":1,"column":428}},{"source":"views/pages/profile.js","original":{"line":16,"column":0},"generated":{"line":1,"column":435}},{"source":"views/pages/profile.js","name":"ProfileView","original":{"line":16,"column":6},"generated":{"line":1,"column":441}},{"source":"views/pages/profile.js","name":"init","original":{"line":21,"column":2},"generated":{"line":1,"column":443}},{"source":"views/pages/profile.js","name":"document","original":{"line":22,"column":4},"generated":{"line":1,"column":450}},{"source":"views/pages/profile.js","name":"title","original":{"line":22,"column":13},"generated":{"line":1,"column":459}},{"source":"views/pages/profile.js","original":{"line":22,"column":21},"generated":{"line":1,"column":465}},{"source":"views/pages/profile.js","original":{"line":23,"column":4},"generated":{"line":1,"column":475}},{"source":"views/pages/profile.js","name":"render","original":{"line":23,"column":9},"generated":{"line":1,"column":480}},{"source":"views/pages/profile.js","original":{"line":25,"column":4},"generated":{"line":1,"column":489}},{"source":"views/pages/profile.js","name":"showWarning","original":{"line":25,"column":9},"generated":{"line":1,"column":494}},{"source":"views/pages/profile.js","name":"showWarning","original":{"line":32,"column":2},"generated":{"line":1,"column":508}},{"source":"views/pages/profile.js","original":{"line":34,"column":8},"generated":{"line":1,"column":522}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":34,"column":12},"generated":{"line":1,"column":525}},{"source":"views/pages/profile.js","original":{"line":34,"column":19},"generated":{"line":1,"column":527}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":34,"column":20},"generated":{"line":1,"column":535}},{"source":"views/pages/profile.js","name":"accessLevel","original":{"line":34,"column":32},"generated":{"line":1,"column":547}},{"source":"views/pages/profile.js","name":"enumUtils","original":{"line":34,"column":47},"generated":{"line":1,"column":560}},{"source":"views/pages/profile.js","original":{"line":34,"column":56},"generated":{"line":1,"column":562}},{"source":"views/pages/profile.js","name":"accessLevels","original":{"line":34,"column":57},"generated":{"line":1,"column":570}},{"source":"views/pages/profile.js","name":"administrator","original":{"line":34,"column":70},"generated":{"line":1,"column":583}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":36,"column":8},"generated":{"line":1,"column":598}},{"source":"views/pages/profile.js","original":{"line":36,"column":15},"generated":{"line":1,"column":600}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":36,"column":16},"generated":{"line":1,"column":608}},{"source":"views/pages/profile.js","name":"warningStatus","original":{"line":36,"column":28},"generated":{"line":1,"column":620}},{"source":"views/pages/profile.js","original":{"line":36,"column":43},"generated":{"line":1,"column":634}},{"source":"views/pages/profile.js","name":"document","original":{"line":37,"column":25},"generated":{"line":1,"column":635}},{"source":"views/pages/profile.js","name":"getElementById","original":{"line":37,"column":34},"generated":{"line":1,"column":644}},{"source":"views/pages/profile.js","original":{"line":37,"column":49},"generated":{"line":1,"column":659}},{"source":"views/pages/profile.js","name":"show","original":{"line":38,"column":19},"generated":{"line":1,"column":677}},{"source":"views/pages/profile.js","original":{"line":47,"column":2},"generated":{"line":1,"column":685}},{"source":"views/pages/profile.js","name":"e","original":{"line":47,"column":24},"generated":{"line":1,"column":707}},{"source":"views/pages/profile.js","name":"e","original":{"line":48,"column":4},"generated":{"line":1,"column":710}},{"source":"views/pages/profile.js","name":"preventDefault","original":{"line":48,"column":6},"generated":{"line":1,"column":712}},{"source":"views/pages/profile.js","original":{"line":49,"column":4},"generated":{"line":1,"column":729}},{"source":"views/pages/profile.js","name":"warningDialog","original":{"line":49,"column":8},"generated":{"line":1,"column":733}},{"source":"views/pages/profile.js","name":"document","original":{"line":49,"column":24},"generated":{"line":1,"column":735}},{"source":"views/pages/profile.js","name":"getElementById","original":{"line":49,"column":33},"generated":{"line":1,"column":744}},{"source":"views/pages/profile.js","original":{"line":49,"column":48},"generated":{"line":1,"column":759}},{"source":"views/pages/profile.js","original":{"line":51,"column":4},"generated":{"line":1,"column":777}},{"source":"views/pages/profile.js","original":{"line":52,"column":6},"generated":{"line":1,"column":781}},{"source":"views/pages/profile.js","name":"updatedUser","original":{"line":52,"column":12},"generated":{"line":1,"column":787}},{"source":"views/pages/profile.js","name":"UserAPI","original":{"line":52,"column":32},"generated":{"line":1,"column":795}},{"source":"views/pages/profile.js","original":{"line":52,"column":39},"generated":{"line":1,"column":797}},{"source":"views/pages/profile.js","name":"updateById","original":{"line":52,"column":40},"generated":{"line":1,"column":805}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":52,"column":51},"generated":{"line":1,"column":816}},{"source":"views/pages/profile.js","original":{"line":52,"column":58},"generated":{"line":1,"column":818}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":52,"column":59},"generated":{"line":1,"column":826}},{"source":"views/pages/profile.js","name":"_id","original":{"line":52,"column":71},"generated":{"line":1,"column":838}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":52,"column":76},"generated":{"line":1,"column":842}},{"source":"views/pages/profile.js","name":"stringify","original":{"line":52,"column":81},"generated":{"line":1,"column":847}},{"source":"views/pages/profile.js","original":{"line":52,"column":91},"generated":{"line":1,"column":857}},{"source":"views/pages/profile.js","original":{"line":52,"column":92},"generated":{"line":1,"column":858}},{"source":"views/pages/profile.js","original":{"line":52,"column":108},"generated":{"line":1,"column":873}},{"source":"views/pages/profile.js","original":{"line":52,"column":117},"generated":{"line":1,"column":878}},{"source":"views/pages/profile.js","name":"updatedUser","original":{"line":53,"column":13},"generated":{"line":1,"column":888}},{"source":"views/pages/profile.js","name":"password","original":{"line":53,"column":25},"generated":{"line":1,"column":890}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":54,"column":6},"generated":{"line":1,"column":899}},{"source":"views/pages/profile.js","original":{"line":54,"column":13},"generated":{"line":1,"column":901}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":54,"column":14},"generated":{"line":1,"column":909}},{"source":"views/pages/profile.js","name":"updatedUser","original":{"line":54,"column":28},"generated":{"line":1,"column":921}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":55,"column":6},"generated":{"line":1,"column":923}},{"source":"views/pages/profile.js","original":{"line":55,"column":13},"generated":{"line":1,"column":925}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":55,"column":14},"generated":{"line":1,"column":933}},{"source":"views/pages/profile.js","name":"updatedUser","original":{"line":55,"column":28},"generated":{"line":1,"column":945}},{"source":"views/pages/profile.js","name":"err","original":{"line":56,"column":11},"generated":{"line":1,"column":947}},{"source":"views/pages/profile.js","name":"err","original":{"line":56,"column":11},"generated":{"line":1,"column":953}},{"source":"views/pages/profile.js","name":"console","original":{"line":57,"column":6},"generated":{"line":1,"column":956}},{"source":"views/pages/profile.js","name":"log","original":{"line":57,"column":14},"generated":{"line":1,"column":964}},{"source":"views/pages/profile.js","name":"err","original":{"line":57,"column":18},"generated":{"line":1,"column":968}},{"source":"views/pages/profile.js","name":"warningDialog","original":{"line":59,"column":4},"generated":{"line":1,"column":971}},{"source":"views/pages/profile.js","name":"hide","original":{"line":59,"column":18},"generated":{"line":1,"column":973}},{"source":"views/pages/profile.js","name":"render","original":{"line":67,"column":4},"generated":{"line":1,"column":980}},{"source":"views/pages/profile.js","original":{"line":69,"column":6},"generated":{"line":1,"column":989}},{"source":"views/pages/profile.js","name":"content","original":{"line":69,"column":10},"generated":{"line":1,"column":993}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":72,"column":13},"generated":{"line":1,"column":995}},{"source":"views/pages/profile.js","original":{"line":72,"column":20},"generated":{"line":1,"column":997}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":72,"column":21},"generated":{"line":1,"column":1005}},{"source":"views/pages/profile.js","name":"accessLevel","original":{"line":72,"column":33},"generated":{"line":1,"column":1017}},{"source":"views/pages/profile.js","name":"enumUtils","original":{"line":72,"column":48},"generated":{"line":1,"column":1030}},{"source":"views/pages/profile.js","original":{"line":72,"column":57},"generated":{"line":1,"column":1032}},{"source":"views/pages/profile.js","name":"accessLevels","original":{"line":72,"column":58},"generated":{"line":1,"column":1040}},{"source":"views/pages/profile.js","name":"reviewer","original":{"line":72,"column":71},"generated":{"line":1,"column":1053}},{"source":"views/pages/profile.js","name":"content","original":{"line":73,"column":14},"generated":{"line":1,"column":1062}},{"source":"views/pages/profile.js","name":"html","original":{"line":73,"column":24},"generated":{"line":1,"column":1065}},{"source":"views/pages/profile.js","name":"html","original":{"line":73,"column":24},"generated":{"line":1,"column":1067}},{"source":"views/pages/profile.js","original":{"line":73,"column":28},"generated":{"line":1,"column":1069}},{"source":"views/pages/profile.js","name":"_templateObject","original":{"line":73,"column":28},"generated":{"line":1,"column":1075}},{"source":"views/pages/profile.js","name":"_templateObject","original":{"line":73,"column":28},"generated":{"line":1,"column":1079}},{"source":"views/pages/profile.js","name":"_taggedTemplateLiteral","original":{"line":73,"column":28},"generated":{"line":1,"column":1081}},{"source":"views/pages/profile.js","original":{"line":73,"column":67},"generated":{"line":1,"column":1083}},{"source":"views/pages/profile.js","original":{"line":73,"column":67},"generated":{"line":1,"column":1084}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":75,"column":18},"generated":{"line":1,"column":1128}},{"source":"views/pages/profile.js","original":{"line":75,"column":25},"generated":{"line":1,"column":1130}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":75,"column":26},"generated":{"line":1,"column":1138}},{"source":"views/pages/profile.js","name":"accessLevel","original":{"line":75,"column":38},"generated":{"line":1,"column":1150}},{"source":"views/pages/profile.js","name":"enumUtils","original":{"line":75,"column":53},"generated":{"line":1,"column":1163}},{"source":"views/pages/profile.js","original":{"line":75,"column":62},"generated":{"line":1,"column":1165}},{"source":"views/pages/profile.js","name":"accessLevels","original":{"line":75,"column":63},"generated":{"line":1,"column":1173}},{"source":"views/pages/profile.js","name":"restaurant","original":{"line":75,"column":76},"generated":{"line":1,"column":1186}},{"source":"views/pages/profile.js","name":"console","original":{"line":76,"column":10},"generated":{"line":1,"column":1198}},{"source":"views/pages/profile.js","name":"log","original":{"line":76,"column":18},"generated":{"line":1,"column":1206}},{"source":"views/pages/profile.js","original":{"line":76,"column":22},"generated":{"line":1,"column":1210}},{"source":"views/pages/profile.js","name":"content","original":{"line":77,"column":21},"generated":{"line":1,"column":1229}},{"source":"views/pages/profile.js","name":"html","original":{"line":77,"column":31},"generated":{"line":1,"column":1232}},{"source":"views/pages/profile.js","name":"html","original":{"line":77,"column":31},"generated":{"line":1,"column":1234}},{"source":"views/pages/profile.js","original":{"line":77,"column":35},"generated":{"line":1,"column":1236}},{"source":"views/pages/profile.js","name":"_templateObject2","original":{"line":77,"column":35},"generated":{"line":1,"column":1242}},{"source":"views/pages/profile.js","name":"_templateObject2","original":{"line":77,"column":35},"generated":{"line":1,"column":1246}},{"source":"views/pages/profile.js","name":"_taggedTemplateLiteral","original":{"line":77,"column":35},"generated":{"line":1,"column":1248}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":77,"column":69},"generated":{"line":1,"column":1250}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":77,"column":69},"generated":{"line":1,"column":1251}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":77,"column":69},"generated":{"line":1,"column":1285}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":77,"column":69},"generated":{"line":1,"column":1332}},{"source":"views/pages/profile.js","name":"stringify","original":{"line":77,"column":74},"generated":{"line":1,"column":1337}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":77,"column":84},"generated":{"line":1,"column":1347}},{"source":"views/pages/profile.js","original":{"line":77,"column":91},"generated":{"line":1,"column":1349}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":77,"column":92},"generated":{"line":1,"column":1357}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":80,"column":18},"generated":{"line":1,"column":1372}},{"source":"views/pages/profile.js","original":{"line":80,"column":25},"generated":{"line":1,"column":1374}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":80,"column":26},"generated":{"line":1,"column":1382}},{"source":"views/pages/profile.js","name":"accessLevel","original":{"line":80,"column":38},"generated":{"line":1,"column":1394}},{"source":"views/pages/profile.js","name":"enumUtils","original":{"line":80,"column":53},"generated":{"line":1,"column":1407}},{"source":"views/pages/profile.js","original":{"line":80,"column":62},"generated":{"line":1,"column":1409}},{"source":"views/pages/profile.js","name":"accessLevels","original":{"line":80,"column":63},"generated":{"line":1,"column":1417}},{"source":"views/pages/profile.js","name":"administrator","original":{"line":80,"column":76},"generated":{"line":1,"column":1430}},{"source":"views/pages/profile.js","name":"content","original":{"line":81,"column":9},"generated":{"line":1,"column":1446}},{"source":"views/pages/profile.js","name":"html","original":{"line":81,"column":19},"generated":{"line":1,"column":1449}},{"source":"views/pages/profile.js","name":"html","original":{"line":81,"column":19},"generated":{"line":1,"column":1451}},{"source":"views/pages/profile.js","original":{"line":81,"column":23},"generated":{"line":1,"column":1453}},{"source":"views/pages/profile.js","name":"_templateObject3","original":{"line":81,"column":23},"generated":{"line":1,"column":1459}},{"source":"views/pages/profile.js","name":"_templateObject3","original":{"line":81,"column":23},"generated":{"line":1,"column":1463}},{"source":"views/pages/profile.js","name":"_taggedTemplateLiteral","original":{"line":81,"column":23},"generated":{"line":1,"column":1465}},{"source":"views/pages/profile.js","original":{"line":81,"column":56},"generated":{"line":1,"column":1467}},{"source":"views/pages/profile.js","original":{"line":81,"column":56},"generated":{"line":1,"column":1468}},{"source":"views/pages/profile.js","original":{"line":84,"column":9},"generated":{"line":1,"column":1507}},{"source":"views/pages/profile.js","name":"template","original":{"line":84,"column":15},"generated":{"line":1,"column":1513}},{"source":"views/pages/profile.js","name":"html","original":{"line":84,"column":26},"generated":{"line":1,"column":1516}},{"source":"views/pages/profile.js","name":"html","original":{"line":84,"column":26},"generated":{"line":1,"column":1518}},{"source":"views/pages/profile.js","original":{"line":84,"column":30},"generated":{"line":1,"column":1520}},{"source":"views/pages/profile.js","name":"_templateObject4","original":{"line":84,"column":30},"generated":{"line":1,"column":1526}},{"source":"views/pages/profile.js","name":"_templateObject4","original":{"line":84,"column":30},"generated":{"line":1,"column":1530}},{"source":"views/pages/profile.js","name":"_taggedTemplateLiteral","original":{"line":84,"column":30},"generated":{"line":1,"column":1532}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1534}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1535}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1819}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":1852}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":2040}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":2050}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":2124}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":2190}},{"source":"views/pages/profile.js","original":{"line":88,"column":24},"generated":{"line":1,"column":2221}},{"source":"views/pages/profile.js","name":"warningReceived","original":{"line":88,"column":29},"generated":{"line":1,"column":2226}},{"source":"views/pages/profile.js","name":"bind","original":{"line":88,"column":45},"generated":{"line":1,"column":2242}},{"source":"views/pages/profile.js","original":{"line":88,"column":50},"generated":{"line":1,"column":2247}},{"source":"views/pages/profile.js","original":{"line":89,"column":29},"generated":{"line":1,"column":2254}},{"source":"views/pages/profile.js","name":"document","original":{"line":95,"column":31},"generated":{"line":1,"column":2256}},{"source":"views/pages/profile.js","name":"title","original":{"line":95,"column":40},"generated":{"line":1,"column":2265}},{"source":"views/pages/profile.js","name":"JSON","original":{"line":95,"column":55},"generated":{"line":1,"column":2271}},{"source":"views/pages/profile.js","name":"stringify","original":{"line":95,"column":60},"generated":{"line":1,"column":2276}},{"source":"views/pages/profile.js","name":"AuthAPI","original":{"line":95,"column":70},"generated":{"line":1,"column":2286}},{"source":"views/pages/profile.js","original":{"line":95,"column":77},"generated":{"line":1,"column":2288}},{"source":"views/pages/profile.js","name":"currentUser","original":{"line":95,"column":78},"generated":{"line":1,"column":2296}},{"source":"views/pages/profile.js","name":"content","original":{"line":98,"column":15},"generated":{"line":1,"column":2309}},{"source":"views/pages/profile.js","name":"document","original":{"line":101,"column":31},"generated":{"line":1,"column":2311}},{"source":"views/pages/profile.js","name":"title","original":{"line":101,"column":40},"generated":{"line":1,"column":2320}},{"source":"views/pages/profile.js","original":{"line":107,"column":9},"generated":{"line":1,"column":2328}},{"source":"views/pages/profile.js","name":"render","original":{"line":107,"column":9},"generated":{"line":1,"column":2330}},{"source":"views/pages/profile.js","original":{"line":107,"column":15},"generated":{"line":1,"column":2332}},{"source":"views/pages/profile.js","name":"template","original":{"line":107,"column":16},"generated":{"line":1,"column":2340}},{"source":"views/pages/profile.js","name":"App","original":{"line":107,"column":26},"generated":{"line":1,"column":2342}},{"source":"views/pages/profile.js","original":{"line":107,"column":29},"generated":{"line":1,"column":2344}},{"source":"views/pages/profile.js","name":"rootEl","original":{"line":107,"column":30},"generated":{"line":1,"column":2352}},{"source":"views/pages/profile.js","original":{"line":113,"column":0},"generated":{"line":1,"column":2361}},{"source":"views/pages/profile.js","name":"_default","original":{"line":113,"column":0},"generated":{"line":1,"column":2365}},{"source":"views/pages/profile.js","original":{"line":114,"column":15},"generated":{"line":1,"column":2367}},{"source":"views/pages/profile.js","name":"ProfileView","original":{"line":114,"column":19},"generated":{"line":1,"column":2371}},{"source":"views/pages/profile.js","name":"exports","original":{"line":114,"column":32},"generated":{"line":1,"column":2373}},{"source":"views/pages/profile.js","name":"default","original":{"line":114,"column":32},"generated":{"line":1,"column":2381}},{"source":"views/pages/profile.js","name":"_default","original":{"line":114,"column":32},"generated":{"line":1,"column":2389}}],"sources":{"views/pages/profile.js":"/**\r\n * Profile View\r\n * \r\n * Author: Ryan Riddiford\r\n * Student ID: 20862086\r\n */\r\n\r\nimport App from './../../App';\r\nimport {html, render } from 'lit-html';\r\nimport AuthAPI from '../../services/AuthAPI';\r\nimport UserAPI from '../../services/UserAPI';\r\nimport enumUtils from '../../utils/enum.utils';\r\n\r\n\r\n//Profile view\r\nclass ProfileView {\r\n\r\n  /**\r\n   * Initialise\r\n   */\r\n  init(){\r\n    document.title = 'Profile';    \r\n    this.render();    \r\n    //Show warning dialog to user with first demerit\r\n    this.showWarning(); \r\n  }\r\n\r\n\r\n  /**\r\n   * Shows one-time warning if user just received first demerit\r\n   */\r\n  showWarning() {\r\n    //Admin cannot get warnings\r\n        if (AuthAPI.currentUser.accessLevel != enumUtils.accessLevels.administrator)\r\n        //If warning has yet to be shown\r\n    if (AuthAPI.currentUser.warningStatus) {\r\n     let warningDialog = document.getElementById(\"warning-dialog\");\r\n     warningDialog.show();\r\n    }\r\n  }\r\n\r\n\r\n/**\r\n * Unsets warning flag once the user has acknowledged the warning\r\n * @param {*} e \r\n */\r\n  async warningReceived(e) {\r\n    e.preventDefault();\r\n    let warningDialog = document.getElementById(\"warning-dialog\");\r\n    //Set warning status to false on server\r\n    try {\r\n      const updatedUser = await UserAPI.updateById(AuthAPI.currentUser._id, JSON.stringify({\"warningStatus\":false}), true);      \r\n      delete updatedUser.password;       \r\n      AuthAPI.currentUser = updatedUser;     \r\n      AuthAPI.currentUser = updatedUser;\r\n    }catch(err){      \r\n      console.log(err);\r\n    }\r\n    warningDialog.hide(); \r\n  }\r\n\r\n\r\n\r\n    /**\r\n   * Renders the profile page\r\n   */\r\n    render(){\r\n\r\n      let content;\r\n     \r\n      //Render reviewer profile content\r\n         if (AuthAPI.currentUser.accessLevel == enumUtils.accessLevels.reviewer) \r\n              content = html`<reviewer-profile></reviewer-profile>`;     \r\n              //Render restaurant profile content\r\n         else if (AuthAPI.currentUser.accessLevel == enumUtils.accessLevels.restaurant) {\r\n          console.log(\"should be false\");\r\n                     content = html`<restaurant-profile restaurant=${JSON.stringify(AuthAPI.currentUser)} is_visitor=\"false\"></restaurant-profile>`;    \r\n         }\r\n           //Render administrator profile content\r\n         else if (AuthAPI.currentUser.accessLevel == enumUtils.accessLevels.administrator) \r\n         content = html`<admin-profile></admin-profile>`;  \r\n         \r\n       \r\n         const template = html`\r\n\r\n<sl-dialog id=\"warning-dialog\" label=\"Confirmation\" class=\"dialog-overview\">\r\n   <span>Your account has received a demerit point. A second demerit point will lead to a 1 week suspension. A third demerit point will lead to a permanent account ban!</span>\r\n  <sl-form @sl-submit=${this.warningReceived.bind(this)}>\r\n<input type=\"hidden\" value=${false} name=\"warningStatus\">\r\n<sl-button id=\"warning-btn\" type=\"primary\" class=\"submit-btn\" slot=\"footer\" submit>Ok</sl-button>\r\n  </sl-form>\r\n \r\n</sl-dialog>\r\n\r\n           <app-header title=${document.title} user=\"${JSON.stringify(AuthAPI.currentUser)}\"></app-header>\r\n\r\n           <div class=\"page-content\">\r\n             ${content}\r\n           </div>\r\n           \r\n           <app-footer title=${document.title}></app-footer>\r\n         `;\r\n\r\n\r\n\r\n     \r\n         render(template, App.rootEl);\r\n       }\r\n\r\n}\r\n\r\n\r\n//Export the view\r\nexport default new ProfileView();"},"lineCount":null}},"error":null,"hash":"0f07e86f7f1660e04a89affee9f79ce0","cacheData":{"env":{}}}